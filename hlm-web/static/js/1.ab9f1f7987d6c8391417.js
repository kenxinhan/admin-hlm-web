webpackJsonp([1],{1058:function(e,t,a){function r(e){a(1190)}var o=a(85)(a(1130),a(1298),r,"data-v-ab123be2",null);e.exports=o.exports},1059:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(45),o=a.n(r),s=a(86),i=a(0),n=a.n(i);a(174);t.default={components:{},props:{patientDetail:{type:Object,default:function(){return{}}},BookingDetail:{type:Object,default:function(){return{}}},consulDetail:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=function(t,a,r){0===e.checkeds.length?r(new Error("请选择其中一个项目")):r()},a=function(e,t,a){""===t&&a(new Error("请输入预约时长")),/^[0-9]+.?[0-9]*$/.test(t)?a():a(new Error("请输入数字"))};return{timeLengths:[{time:15},{time:30},{time:45},{time:60}],activeName:"first",judgeVistiStatus:{UNCONFIRMED:!0,TREATMENT:!0,CANCEL:!0,FINISHED:!0},formDataConsul:{projectCodes:[]},checkeds:[],serviceChoosesJson:[],formDataCreate:{patientType:"PT",visitingType:"NEWDIAGNOSIS",advisoryNo:"",advisoryName:"",reservationDate:n()().format("YYYY-MM-DD HH:mm:ss"),reservationDateLen:30,reservationDoctorNo:"",reservationDoctorName:"",vistitingStatus:"UNCONFIRMED",remark:""},formDataRegister:{registeredDate:"",vistitingStatus:"UNCONFIRMED",advisoryName:"",reservationDoctorName:"",remark:""},formRegisterRules:{registeredDate:[{required:!0,message:"请选择挂号时间",trigger:"change"}],vistitingStatus:[{required:!0,message:"请选择就诊状态",trigger:"change"}],advisoryName:[{required:!0,message:"请选择咨询师",trigger:"change"}],reservationDoctorName:[{required:!0,message:"请选择医生",trigger:"change"}],checkeds:[{required:!0,validator:t,trigger:"change"}]},formDataBookingRules:{patientType:[{required:!0,message:"请选择患者类型",trigger:"change"}],visitingType:[{required:!0,message:"请选择就诊类型",trigger:"change"}],vistitingStatus:[{required:!0,message:"请选择就诊状态",trigger:"change"}],reservationDate:[{required:!0,message:"请选择预约日期",trigger:"change"}],reservationDateLen:[{required:!0,validator:a,trigger:"blur"}],checkeds:[{required:!0,validator:t,trigger:"change"}]},formDataRules:{visitingDate:[{required:!0,message:"请选择就诊时间",trigger:"change"}],projectCodes:[{required:!0,message:"请选择咨询项目",trigger:"change"}],want:[{required:!0,message:"请选择成交意愿",trigger:"change"}]},pickerOptions0:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},watch:{},computed:o()({},a.i(s.c)({mutations:function(e){return e.mutations},appVuex:function(e){return e.appVuex}})),methods:{handleModalConfirm:function(e){var t=this,a=this.mutations.keyName;"createConsul"!==a&&"editConsul"!==a||this.$refs.formConsul.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.formDataConsul;a.projectNames=t.appVuex.patient_project.filter(function(e){return a.projectCodes.indexOf(e.code)>=0}).map(function(e){return e.lableName}),console.log(a),t.$emit("handleModalConfirm",a,function(){t.$refs.formConsul.resetFields(),t.$message({type:"success",message:"新增咨询成功!"})})}),"CreateAndEditBooking"===a&&this.$refs.formBooking.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.serviceChoosesJson,r=t.formDataCreate,o=t.appVuex,s=o.shop_doctor,i=o.shop_advisory,n=t.BookingDetail.serviceChooses,l=r.reservationDoctorNo,c=r.advisoryNo;l&&(r.reservationDoctorName=s.find(function(e){return e.memberNo==l}).memberName),c&&(r.advisoryName=i.find(function(e){return e.memberNo==c}).memberName),r.reservationType="RESERVATION",0===a.length?r.serviceChoosesJson=n:r.serviceChoosesJson=a,t.$emit("handleModalConfirm",r,function(){t.$refs.formBooking.resetFields(),t.checkeds=[]})}),"register"===a&&this.$refs.formRegister.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.serviceChoosesJson,r=t.formDataRegister,o=t.formDataCreate,s=t.appVuex,i=s.shop_doctor,l=s.shop_advisory,c=t.BookingDetail.serviceChooses,m=r.reservationDoctorName,u=r.advisoryName,d=t.patientDetail.type;o.advisoryNo&&(r.advisoryNo=l.find(function(e){return e.memberName==u}).memberNo),r.reservationDoctorNo=i.find(function(e){return e.memberName==m}).memberNo,r.registeredDoctorNo=i.find(function(e){return e.memberName==m}).memberNo,r.registeredDoctorName=r.reservationDoctorName,r.reservationType="REGISTERED",r.reservationDateLen=15,r.vistitingStatus="UNCONFIRMED",r.visitingType="NEWDIAGNOSIS",r.registeredDate=n()().format("YYYY-MM-DD HH:mm:ss"),0===a.length?(console.log(t.checkeds),r.serviceChoosesJson=c):(console.log(a),r.serviceChoosesJson=a),r.patientType=d,console.log(r),t.$emit("handleModalConfirm",r,function(){t.$refs.formRegister.resetFields(),t.checkeds=[],t.$message({type:"success",message:"挂号成功!"})})})},handleCheckedCitiesChange:function(e){var t=this;e.childs.forEach(function(a){t.checkeds.indexOf(a.code)>=0&&t.serviceChoosesJson.push({projectCode:e.code,projectName:e.lableName,projectPropertyCode:a.code,projectPropertyName:a.lableName})}),this.serviceChoosesJson=this.serviceChoosesJson.filter(function(e){return t.checkeds.indexOf(e.projectPropertyCode)>=0});for(var a=[],r={},o=0;o<this.serviceChoosesJson.length;o++)r[this.serviceChoosesJson[o].projectPropertyCode]||(a.push(this.serviceChoosesJson[o]),r[this.serviceChoosesJson[o].projectPropertyCode]=!0);this.serviceChoosesJson=a,console.log(this.serviceChoosesJson)},handleVistiStatus:function(e){var t=n()().format("YYYY-MM-DD HH:mm:ss");n()(e).isBefore(t)?(this.judgeVistiStatus.TREATMENT=!0,this.judgeVistiStatus.CANCEL=!0,this.judgeVistiStatus.FINISHED=!0):(this.judgeVistiStatus.TREATMENT=!1,this.judgeVistiStatus.CANCEL=!1,this.judgeVistiStatus.FINISHED=!1)},handleModalCancel:function(){this.$emit("handleModalCancel"),this.checkeds=[]}},created:function(){},mounted:function(){var e=this.BookingDetail;this.consulDetail;if(e.code){for(var t in this.BookingDetail)"updateId"!==t&&"updateName"!==t&&"serviceChooses"!==t&&(this.formDataCreate[t]=this.BookingDetail[t],this.formDataRegister[t]=this.BookingDetail[t]);this.checkeds=this.BookingDetail.serviceChooses.map(function(e){return e.projectPropertyCode})}this.consulDetail.projectNames&&(this.formDataConsul=this.consulDetail,this.formDataConsul.projectNames=this.consulDetail.projectNames.split(","),this.formDataConsul.projectCodes=this.consulDetail.projectCodes.split(","))}}},1060:function(e,t){},1061:function(e,t,a){function r(e){a(1060)}var o=a(85)(a(1059),a(1062),r,"data-v-16d09048",null);e.exports=o.exports},1062:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.mutations.modalTitle,visible:e.mutations.BookingModalVisible,center:e.mutations.center,"show-close":!1}},[a("div",{staticClass:"PatientInfoBox"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:"/hlm-web/static/img/avatar.jpg"}})]),e._v(" "),a("el-row",{staticClass:"textBox",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("姓名 : "+e._s(e.patientDetail.name))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[e._v("病例号 : "+e._s(e.patientDetail.caseNo))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("生日 : "+e._s(e.patientDetail.birthDate))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("手机: "+e._s(e.patientDetail.phone))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("地址 : "+e._s(e.patientDetail.province)+" "+e._s(e.patientDetail.city)+e._s(e.patientDetail.area))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("初诊日期 :  "+e._s(e.patientDetail.createTime)+" ")]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("初诊医生:  "+e._s(e.patientDetail.firstMemberName))])],1)],1),e._v(" "),"CreateAndEditBooking"===e.mutations.keyName?a("div",[a("el-form",{ref:"formBooking",staticClass:"formBox",attrs:{model:e.formDataCreate,rules:e.formDataBookingRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"患者类型：",prop:"patientType"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.formDataCreate.patientType,callback:function(t){e.$set(e.formDataCreate,"patientType",t)},expression:"formDataCreate.patientType"}},[a("el-radio-button",{attrs:{label:"PT"}},[e._v("普通")]),e._v(" "),a("el-radio-button",{attrs:{label:"LS"}},[e._v("待定")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊类型：",prop:"visitingType"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.formDataCreate.visitingType,callback:function(t){e.$set(e.formDataCreate,"visitingType",t)},expression:"formDataCreate.visitingType"}},[a("el-radio-button",{attrs:{label:"NEWDIAGNOSIS"}},[e._v("初诊")]),e._v(" "),a("el-radio-button",{attrs:{label:"REVIEW"}},[e._v("复诊")])],1)],1)],1),e._v(" "),"CreateAndEditBooking"!==this.mutations.keyName?a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊状态：",prop:"vistitingStatus"}},[a("el-select",{staticStyle:{width:"100%",height:"auto"},model:{value:e.formDataCreate.vistitingStatus,callback:function(t){e.$set(e.formDataCreate,"vistitingStatus",t)},expression:"formDataCreate.vistitingStatus"}},[a("el-option",{attrs:{label:"未确认",value:"UNCONFIRMED"}})],1)],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"咨询师："}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.formDataCreate.advisoryNo,callback:function(t){e.$set(e.formDataCreate,"advisoryNo",t)},expression:"formDataCreate.advisoryNo"}},e._l(e.appVuex.shop_advisory,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"医生："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择医生"},model:{value:e.formDataCreate.reservationDoctorNo,callback:function(t){e.$set(e.formDataCreate,"reservationDoctorNo",t)},expression:"formDataCreate.reservationDoctorNo"}},e._l(e.appVuex.shop_doctor,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})}),1)],1)],1),e._v(" "),("PT"===e.formDataCreate.patientType?"UNCONFIRMED"!==e.formDataCreate.vistitingStatus&&"CANCEL"!==e.formDataCreate.vistitingStatus:e.formDataCreate.patientType)?e._e():a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"预约日期：",prop:"PT"===e.formDataCreate.patientType?"reservationDate":""}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间","picker-options":e.pickerOptions0},model:{value:e.formDataCreate.reservationDate,callback:function(t){e.$set(e.formDataCreate,"reservationDate",t)},expression:"formDataCreate.reservationDate"}})],1)],1),e._v(" "),("PT"===e.formDataCreate.patientType?"UNCONFIRMED"!==e.formDataCreate.vistitingStatus&&"CANCEL"!==e.formDataCreate.vistitingStatus:e.formDataCreate.patientType)?e._e():a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"预约时长：",prop:"PT"===e.formDataCreate.patientType?"reservationDateLen":""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择预约时长(分钟)"},model:{value:e.formDataCreate.reservationDateLen,callback:function(t){e.$set(e.formDataCreate,"reservationDateLen",t)},expression:"formDataCreate.reservationDateLen"}},e._l(e.timeLengths,function(e){return a("el-option",{key:e.time,attrs:{label:e.time,value:e.time}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:e.formDataCreate.remark,callback:function(t){e.$set(e.formDataCreate,"remark",t)},expression:"formDataCreate.remark"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{height:"300px","overflow-y":"auto"}},[a("el-form-item",{attrs:{prop:"checkeds"}}),e._v(" "),e._l(e.appVuex.patient_project,function(t){return a("el-col",{key:t.code,attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:t.lableName}},e._l(t.childs,function(r){return a("el-checkbox",{key:r.code,attrs:{label:r.code},on:{change:function(a){return e.handleCheckedCitiesChange(t)}},model:{value:e.checkeds,callback:function(t){e.checkeds=t},expression:"checkeds"}},[e._v("\n                    "+e._s(r.lableName)+"\n                    ")])}),1)],1)})],2)],1)],1):e._e(),e._v(" "),"register"===e.mutations.keyName?a("div",[a("el-form",{ref:"formRegister",staticClass:"formBox",attrs:{model:e.formDataRegister,rules:e.formRegisterRules,"label-width":"0"}},[a("div",{staticClass:"formTitle"},[a("span"),e._v("选择咨询师\n        ")]),e._v(" "),a("el-form-item",[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.formDataRegister.advisoryName,callback:function(t){e.$set(e.formDataRegister,"advisoryName",t)},expression:"formDataRegister.advisoryName"}},e._l(e.appVuex.shop_advisory,function(e){return a("el-radio",{key:e.memberNo,attrs:{border:"",label:e.memberName,value:e.memberNo}})}),1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("选择医生\n        ")]),e._v(" "),a("el-form-item",{attrs:{prop:"reservationDoctorName"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.formDataRegister.reservationDoctorName,callback:function(t){e.$set(e.formDataRegister,"reservationDoctorName",t)},expression:"formDataRegister.reservationDoctorName"}},e._l(e.appVuex.shop_doctor,function(e){return a("el-radio",{key:e.memberNo,attrs:{border:"",label:e.memberName,value:e.memberNo}})}),1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("预约项目\n      ")]),e._v(" "),a("div",{staticStyle:{height:"300px","overflow-y":"auto"}},e._l(e.appVuex.patient_project,function(t){return a("div",{key:t.code},[e._v("\n            "+e._s(t.lableName)+"\n            "),a("el-form-item",{attrs:{prop:"checkeds"}},e._l(t.childs,function(r){return a("el-checkbox",{key:r.code,attrs:{label:r.code},on:{change:function(a){return e.handleCheckedCitiesChange(t)}},model:{value:e.checkeds,callback:function(t){e.checkeds=t},expression:"checkeds"}},[e._v("\n                "+e._s(r.lableName)+"\n                ")])}),1)],1)}),0),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("备注\n        ")]),e._v(" "),a("el-form-item",{attrs:{prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入备注"},model:{value:e.formDataRegister.remark,callback:function(t){e.$set(e.formDataRegister,"remark",t)},expression:"formDataRegister.remark"}})],1)],1)],1):e._e(),e._v(" "),"createConsul"===e.mutations.keyName||"editConsul"===e.mutations.keyName?a("div",[a("el-form",{ref:"formConsul",staticClass:"formBox",attrs:{model:e.formDataConsul,rules:e.formDataRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊时间：",prop:"visitingDate"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.formDataConsul.visitingDate,callback:function(t){e.$set(e.formDataConsul,"visitingDate",t)},expression:"formDataConsul.visitingDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"咨询项目：",prop:"projectCodes"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.formDataConsul.projectCodes,callback:function(t){e.$set(e.formDataConsul,"projectCodes",t)},expression:"formDataConsul.projectCodes"}},e._l(e.appVuex.patient_project,function(e){return a("el-option",{key:e.code,attrs:{label:e.lableName,value:e.code}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"咨询内容：",prop:"advisoryContent"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入咨询内容"},model:{value:e.formDataConsul.advisoryContent,callback:function(t){e.$set(e.formDataConsul,"advisoryContent",t)},expression:"formDataConsul.advisoryContent"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"成交意愿：",prop:"want"}},[a("el-select",{model:{value:e.formDataConsul.want,callback:function(t){e.$set(e.formDataConsul,"want",t)},expression:"formDataConsul.want"}},[a("el-option",{attrs:{label:"高",value:"HIGH"}}),e._v(" "),a("el-option",{attrs:{label:"中",value:"CENTRAL"}}),e._v(" "),a("el-option",{attrs:{label:"低",value:"LOW"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"意向说明：",prop:"explainRemark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入意向说明"},model:{value:e.formDataConsul.explainRemark,callback:function(t){e.$set(e.formDataConsul,"explainRemark",t)},expression:"formDataConsul.explainRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:e.formDataConsul.remark,callback:function(t){e.$set(e.formDataConsul,"remark",t)},expression:"formDataConsul.remark"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleModalCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleModalConfirm}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},1130:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(124),o=a.n(r),s=a(45),i=a.n(s),n=a(86),l=a(0),c=a.n(l),m=a(1244),u=a.n(m),d=a(1245),p=a.n(d),f=a(1243),v=a.n(f),h=a(1242),g=a.n(h),b=a(1061),D=a.n(b),_=a(56);t.default={components:{Search:u.a,Table:p.a,Pagination:v.a,Modal:g.a,ComModal:D.a},props:{},data:function(){return{patientReservationCode:"",reservationDateStr:c()().format("YYYY-MM-DD"),patientDetail:{},consulDetail:{},scopeItem:{},newAlreadyInfo:{},roleEnnames:"",chargeApproveList:[],activeName:"worktoday",remark:"",CaseDetail:{visitingType:"NEWDIAGNOSIS"},chargeApproveForm:{times:"",checkStatus:""},isLoadComModal:!1,dialogVisible_approve:!1,currentChargeItem:{},isLoadModal:!1,billDetail:{},billOperate:{},billProjectList:[],tableData:[],currentPage:1,limit:10,total:1,approvePagination:{currentPage:1,limit:10,total:1}}},watch:{},computed:i()({},a.i(n.c)({mutations:function(e){return e.mutations},appVuex:function(e){return e.appVuex}}),{returnReallyAmount:function(e){return"PART"===e.refundType?e.billOperate.payAmount:e.billDetail.payAmount},backReallyAmount:function(e){if("PART"===e.refundType){var t=e.subtractMath(e.billDetail.payAmount,e.returnReallyAmount);return t>=Number(e.billDetail.reallyAmount)?0:e.subtractMath(e.billDetail.reallyAmount,t)}return e.billDetail.reallyAmount},backPayAmount:function(e){if("PART"===e.refundType){var t=e.subtractMath(e.billDetail.payAmount,e.billOperate.payAmount);return t>0?t:0}return 0}}),methods:i()({},a.i(n.d)(["ActionToggleModal"]),{handleClickTab:function(e){"worktoday"===e.name?this.initData():this.getApproveList()},handleSearchItemChange:function(){this.getApproveList()},searchChargeApprove:function(){this.getApproveList()},resetChargeApprove:function(){this.chargeApproveForm.times=[],this.chargeApproveForm.checkStatus="",this.getApproveList()},handlePageQueryApprove:function(e){this.approvePagination.currentPage=e,this.getApproveList()},handleApproveCharge:function(e){var t=this;this.getBillDetail(e,!1,function(){t.currentChargeItem=e,t.dialogVisible_approve=!0})},getBillDetail:function(e,t,a){var r=this,o=_.a.get("userInfo"),s=(o.memberNoGuid,o.memberNoMerchant);o.memberNameMerchant,o.roleEnnames,o.shopNo;this.$http.post("/api/hx/bill/detail.do",{merchantNo:s,code:t?"":e.code,billCode:t?e.code:e.billCode}).then(function(e){var t=e.data,o=t.result,s=t.errorMessage,i=t.returnObject;o?(r.billDetail=i,r.billProjectList=i.details,r.billOperate=i.billOperate,r.refundType=i.billOperate.refundType,a&&a()):r.$message({type:"error",message:s})})},handleOperApprove:function(e){var t=this,a=this.currentChargeItem,r=a.code,o=(a.checkerNoGuid,a.checkerNameGuid,this.$cfg.userInfo||_.a.get("userInfo")),s=o.memberNoGuid,i=o.memberNameGuid;o.memberNoMerchant,o.roleEnnames;this.$http.post("/api/hx/bill/check.do",{code:r,remark:this.remark,checkStatus:e,checkerNoGuid:s,checkerNameGuid:i}).then(function(e){var a=e.data,r=a.result,o=a.errorMessage;r?(t.$message({type:"success",message:"操作成功！"}),t.getApproveList(),t.dialogVisible_approve=!1):t.$message({type:"error",message:o})})},getApproveList:function(){var e=this,t=this.approvePagination,a=t.currentPage,r=t.limit,o=this.chargeApproveForm,s=o.times,i=o.checkStatus,n=this.$cfg.userInfo||_.a.get("userInfo"),l=(n.memberNoGuid,n.memberNoMerchant);n.roleEnnames;this.$http.post("/api/hx/bill/checkList.do",{start:(a-1)*r,limit:r,merchantNo:l,startDateStr:s[0],endDateStr:s[1],checkStatus:i}).then(function(t){var a=t.data,r=a.result,o=a.errorMessage;if(r){var s=t.data.returnObject,i=s.total,n=s.rows;e.approvePagination.total=i,e.chargeApproveList=n}else e.$message({type:"error",message:o})})},initData:function(e){var t=this,a=this.$cfg.userInfo||_.a.get("userInfo"),r=a.memberNoGuid,o=a.memberNoMerchant,s=(a.roleEnnames,this.currentPage),n=this.limit,l=this.reservationDateStr;this.$http.post("/api/hx/ps/findWorkTodayPage.do",i()({start:(s-1)*n,limit:n,merchantNo:o,updateId:r,reservationDateStr:l},e)).then(function(e){var a=e.data,r=a.result,o=a.errorMessage;if(r){var s=e.data.returnObject,i=s.total,n=s.rows;t.total=i,t.tableData=n}else t.$message({type:"error",message:o})})},handleClinicReceipt:function(e){var t=this,a=e.code,r=e.patientName,o=this.appVuex.menulist,s=this.$cfg.userInfo||_.a.get("userInfo"),i=s.memberNoGuid,n=s.memberNameGuid,l=(s.roleEnnames,o.find(function(e){return"VisitingForAdvisory"===e.permission})),c=o.find(function(e){return"VsitingForDoctor"===e.permission});this.$confirm("接诊患者"+r+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l&&t.$http.post("/api/hx/ps/visitingForAdvisory.do",{code:a,updateId:i,updateName:n}).then(function(e){var a=e.data,r=a.result,o=a.errorMessage;r?(t.$message({type:"success",message:"接诊成功!"}),t.initData({reservationDateStr:t.reservationDateStr})):t.$message({type:"error",message:o})}),c&&t.$http.post("/api/hx/ps/visitingForDoctor.do",{code:a,updateId:i,updateName:n}).then(function(e){var a=e.data,r=a.result,o=a.errorMessage;r?(t.$message({type:"success",message:"接诊成功!"}),t.initData({reservationDateStr:t.reservationDateStr})):t.$message({type:"error",message:o})})}).catch(function(){t.$message({type:"info",message:"已取消接诊"})})},handleCreateConsul:function(e){var t=this;this.patientReservationCode=e.code,this.getPatientDetail(e.patientNo,function(){t.isLoadComModal=!0,t.ActionToggleModal({modalTitle:"记录咨询",keyName:"createConsul",BookingModalVisible:!0})})},handleEditConsul:function(e){var t=this;this.patientReservationCode=e.code,this.getPatientDetail(e.patientNo,function(){t.getConsulDetail(e.code,function(){t.isLoadComModal=!0,t.ActionToggleModal({modalTitle:"编辑咨询",keyName:"editConsul",BookingModalVisible:!0})})})},handleTriage:function(e){var t=this;this.scopeItem=e,this.patientReservationCode=e.code,this.getPatientDetail(e.patientNo,function(){t.isLoadModal=!0,t.ActionToggleModal({modalTitle:"分诊",keyName:"triage",dialogFormVisible:!0})})},handleTransfer:function(e){var t=this;this.scopeItem=e,this.patientReservationCode=e.code,this.getPatientDetail(e.patientNo,function(){t.isLoadModal=!0,t.ActionToggleModal({modalTitle:"转诊",keyName:"transfer",dialogFormVisible:!0})})},handleCollection:function(e){this.$router.push({path:"/PatientDetail/"+e.patientNo,query:{patientServiceCode:e.code}})},handleFollowUp:function(e){var t=this;this.patientReservationCode=e.code,this.getPatientDetail(e.patientNo,function(){t.isLoadComModal=!0,t.ActionToggleModal({modalTitle:"复诊预约",keyName:"CreateAndEditBooking",BookingModalVisible:!0})})},handleAddCase:function(e){var t=this;this.scopeItem=e,this.patientReservationCode=e.code,this.getPatientDetail(e.patientNo,function(){t.getPaitentNewAlreadyRecord(e.patientNo,e.code,function(e){t.isLoadModal=!0,t.newAlreadyInfo=e,t.ActionToggleModal({modalTitle:"新增病历",keyName:"createCase",dialogFormVisible:!0})})})},handleEditCase:function(e){var t=this;this.patientReservationCode=e.code,this.getPatientDetail(e.patientNo,function(){t.getCaseDetail(e.code,function(){t.isLoadModal=!0,t.ActionToggleModal({modalTitle:"编辑病历",keyName:"createCase",dialogFormVisible:!0})})})},getPaitentNewAlreadyRecord:function(e,t,a){var r=this,o=this.$cfg.userInfo||_.a.get("userInfo"),s=(o.memberNoGuid,o.memberNameGuid,o.shopNo,o.memberNoMerchant);this.$http.post("/api/hx/ps/infoByUpToDate.do",{merchantNo:s,code:t,patientNo:e}).then(function(e){var t=e.data,o=t.result,s=t.errorMessage,i=t.returnObject;o?a&&a(i):r.$message({type:"error",message:s})})},handleSaveCase:function(e,t){var a=this,r=this.patientReservationCode,o=this.patientDetail,s=o.code,n=o.name,l=this.$cfg.userInfo||_.a.get("userInfo"),c=l.memberNoGuid,m=l.memberNameGuid,u=i()({patientNo:s,patientName:n,createId:c,createName:m},e);this.$http.post("/api/hx/medical/addMedical.do",i()({patientReservationCode:r},u)).then(function(e){var t=e.data,r=t.result,o=t.errorMessage;r?(a.$message({type:"success",message:"新增病历成功!"}),a.isLoadModal=!1,a.initData({})):a.$message({type:"error",message:o})})},handelEditCase:function(e,t){var a=this,r=(this.patientReservationCode,this.patientDetail),o=r.code,s=r.name,n=this.$cfg.userInfo||_.a.get("userInfo"),l=n.memberNoGuid,c=n.memberNameGuid,m=i()({patientNo:o,patientName:s,createId:l,createName:c},e);this.$http.post("/api/hx/medical/editMedical.do",m).then(function(e){var t=e.data,r=t.result,o=t.errorMessage;r?(a.$message({type:"success",message:"编辑病历成功!"}),a.CaseDetail={visitingType:"NEWDIAGNOSIS"},a.isLoadModal=!1,a.initData({})):a.$message({type:"error",message:o})})},handleTreaSuccess:function(e){var t=this,a=e.code,r=e.patientName,o=this.$cfg.userInfo||_.a.get("userInfo"),s=o.memberNoGuid,i=o.memberNameGuid;o.roleEnnames;this.$confirm("确认患者"+r+"已完成治疗么?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post("/api/hx/ps/editByFinished.do",{code:a,updateId:s,updateName:i}).then(function(e){var a=e.data,r=a.result,o=a.errorMessage;r?(t.$message({type:"success",message:"确认治疗完成!"}),t.initData({})):t.$message({type:"error",message:o})})}).catch(function(){t.$message({type:"info",message:"已取消确认"})})},addConsul:function(e,t){var a=this,r=this.patientReservationCode,o=this.patientDetail,s=o.code,n=o.name,l=this.$cfg.userInfo||_.a.get("userInfo"),c=l.memberNoGuid;e.projectCodes=e.projectCodes.join(","),e.projectNames=e.projectNames.join(","),this.$http.post("/api/hx/advisory/addAdvisory.do",i()({patientReservationCode:r,patientNo:s,patientName:n,createId:c},e)).then(function(e){var r=e.data,o=r.result,s=r.errorMessage;r.returnObject;o?(a.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),a.initData({}),a.consulDetail={},a.isLoadComModal=!1,t&&t()):a.$message({type:"error",message:s})})},editConsul:function(e,t){var a=this,r=this.patientReservationCode,o=this.consulDetail.code,s=this.$cfg.userInfo||_.a.get("userInfo"),n=s.memberNoGuid;e.projectCodes=e.projectCodes.join(","),e.projectNames=e.projectNames.join(","),this.$http.post("/api/hx/advisory/editAdvisory.do",i()({code:o,patientReservationCode:r,createId:n},e)).then(function(e){var r=e.data,o=r.result,s=r.errorMessage;r.returnObject;o?(a.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),a.initData({}),a.consulDetail={},a.isLoadComModal=!1,t&&t()):a.$message({type:"error",message:s})})},editByTriage:function(e,t){var a=this,r=this.$cfg.userInfo||_.a.get("userInfo"),o=r.memberNoGuid,s=r.memberNameGuid;this.$http.post("/api/hx/ps/editByTriage.do",i()({code:this.patientReservationCode,updateId:o,updateName:s},e)).then(function(e){var r=e.data,o=r.result,s=r.errorMessage;r.returnObject;o?(a.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),a.$message({type:"success",message:"分诊成功!"}),a.isLoadModal=!1,a.initData({}),t&&t()):a.$message({type:"error",message:s})})},editByReferral:function(e,t){var a=this,r=this.$cfg.userInfo||_.a.get("userInfo"),o=r.memberNoGuid,s=r.memberNameGuid;this.$http.post("/api/hx/ps/editByReferral.do",i()({code:this.patientReservationCode,updateId:o,updateName:s},e)).then(function(e){var r=e.data,o=r.result,s=r.errorMessage;r.returnObject;o?(a.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),a.$message({type:"success",message:"转诊成功!"}),a.isLoadModal=!1,a.initData({}),t&&t()):a.$message({type:"error",message:s})})},createBooking:function(e,t){var a=this,r=this.$cfg.userInfo||_.a.get("userInfo"),s=r.memberNoGuid,n=r.memberNameGuid,l=r.shopNo,c=r.shopName,m=this.patientDetail,u=m.code,d=m.name,p=m.phone,f=m.caseNo,v=m.merchantNo,h=m.merchantName;e.reservationDateLen=parseInt(e.reservationDateLen),e.serviceChoosesJson=o()(e.serviceChoosesJson),this.$http.post("/api/hx/ps/addPatientReservation.do",i()({reviewCode:this.patientReservationCode,patientNo:u,patientName:d,mobile:p,medicalNo:f,shopNo:l,shopName:c,merchantNo:v,merchantName:h,createId:s,createName:n},e)).then(function(e){var r=e.data,o=r.result,s=r.errorMessage;r.returnObject;o?(a.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),a.initData({}),a.isLoadComModal=!1,t&&t()):a.$message({type:"error",message:s})})},getPatientDetail:function(e,t){var a=this;this.$http.post("/api/hx/patient/details.do",{code:e}).then(function(e){var r=e.data,o=r.returnObject,s=r.result,i=r.errorMessage;s?(a.patientDetail=o,t&&t()):a.$message({type:"error",message:i})})},getConsulDetail:function(e,t){var a=this;this.$http.post("/api/hx/advisory/findAdvisoryByCode.do",{patientReservationCode:e}).then(function(e){var r=e.data,o=r.returnObject,s=r.result,i=r.errorMessage;s?(a.consulDetail=o,t&&t()):a.$message({type:"error",message:i})})},getCaseDetail:function(e,t){var a=this;this.$http.post("/api/hx/medical/findMedicalByCode.do",{patientReservationCode:e}).then(function(e){var r=e.data,o=r.result,s=r.errorMessage,i=r.returnObject;o?(a.CaseDetail=i,t&&t()):a.$message({type:"error",message:s})})},handleModalConfirm:function(e,t){var a=this.mutations.keyName;"createConsul"===a&&this.addConsul(e,t),"editConsul"===a&&this.editConsul(e,t),"triage"===a&&this.editByTriage(e,t),"transfer"===a&&this.editByReferral(e,t),"CreateAndEditBooking"===a&&this.createBooking(e,t),"createCase"===a&&(e.code?this.handelEditCase(e,t):this.handleSaveCase(e,t))},handleSelectionChange:function(e){this.multipleSelection=e},handlePageQuery:function(e){this.currentPage=e,this.initData({})},searchData:function(e){this.currentPage=1,this.reservationDateStr=e.reservationDateStr,this.initData(e)},resetSearchData:function(e){this.currentPage=1,this.reservationDateStr=e.reservationDateStr,this.initData(e)},handleModalCancel:function(){this.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),this.scopeItem={},this.consulDetail={},this.CaseDetail={visitingType:"NEWDIAGNOSIS"},this.isLoadComModal=!1,this.isLoadModal=!1}}),created:function(){},mounted:function(){this.initData({})}}},1131:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(45),o=a.n(r),s=a(86);t.default={components:{},props:{patientDetail:{type:Object,default:function(){return{}}},CaseDetail:{type:Object,default:function(){return{}}},scopeItem:{type:Object,default:function(){return{}}},newAlreadyInfo:{type:Object,default:function(){return{}}}},data:function(){return{activeName:"first",formData:{visitingType:"NEWDIAGNOSIS",reservationDoctorNo:"",assistantNo:"",remark:""},formDataTransfer:{visitingType:"NEWDIAGNOSIS",visitingDate:"",registeredDoctorNo:"",remark:""},formDataCase:{visitingType:"NEWDIAGNOSIS"},formDataRules:{reservationDoctorNo:[{required:!0,message:"请选择接诊医生",trigger:"change"}]},formTransferRules:{registeredDoctorNo:[{required:!0,message:"请选择接诊医生",trigger:"change"}]},formCaseRules:{visitingDate:[{required:!0,message:"请选择就诊时间",trigger:"blur"}],visitingType:[{required:!0,message:"请选择患者类型",trigger:"change"}]},pickerOptions0:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},watch:{},computed:o()({},a.i(s.c)({mutations:function(e){return e.mutations},appVuex:function(e){return e.appVuex}})),methods:{handleModalConfirm:function(){var e=this,t=this.mutations.keyName;"triage"===t&&this.$refs.formData.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.formData,r=e.appVuex;a.reservationDoctorName=r.shop_doctor.find(function(e){return e.memberNo==a.reservationDoctorNo}).memberName,a.assistantNo&&(a.assistantName=r.shop_nurse.find(function(e){return e.memberNo==a.assistantNo}).memberName),e.$emit("handleModalConfirm",a)}),"transfer"===t&&this.$refs.formDataTransfer.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.formDataTransfer,r=e.appVuex;a.registeredDoctorName=r.shop_doctor.find(function(e){return e.memberNo==a.registeredDoctorNo}).memberName,e.$emit("handleModalConfirm",a)}),"createCase"===t&&this.$refs.formDataCase.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.formDataCase;a.doctorNo&&(a.doctorName=e.appVuex.shop_doctor.find(function(e){return e.memberNo===a.doctorNo}).memberName),a.assistantNo&&(a.assistantName=e.appVuex.shop_nurse.find(function(e){return e.memberNo===a.assistantNo}).memberName),e.$emit("handleModalConfirm",a,function(){e.$ref.formDataCase.resetFields()})})},handleModalCancel:function(){this.$emit("handleModalCancel")},handleClick:function(e,t){console.log(e,t)}},created:function(){},mounted:function(){this.formData.visitingType=this.scopeItem.visitingType,this.formDataCase=this.CaseDetail,this.formDataCase.doctorNo||(this.formDataCase.doctorNo=this.newAlreadyInfo.reservationDoctorNo),this.formDataCase.visitingDate||(this.formDataCase.visitingDate=this.newAlreadyInfo.reservationDate),this.formDataTransfer.visitingDate=this.scopeItem.reservationDate,this.formDataTransfer.remark=this.scopeItem.remark}}},1132:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{},props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:20}},data:function(){return{}},watch:{},computed:{},methods:{handlePageQuery:function(e){this.$emit("handlePageQuery",e)}},created:function(){},mounted:function(){}}},1133:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),o=a.n(r);t.default={components:{},props:{},data:function(){return{searchForm:{reservationDateStr:o()().format("YYYY-MM-DD")}}},watch:{},computed:{},methods:{searchData:function(){var e=this.getOrResetSearchVal("get");this.$emit("searchData",e)},resetSearchData:function(){var e=this.getOrResetSearchVal("reset");this.$emit("resetSearchData",e)},handleItemChange:function(e,t){this.searchForm[e]=t;var a=this.getOrResetSearchVal("get");this.$emit("searchData",a)},getOrResetSearchVal:function(e){return"get"===e?{reservationDateStr:this.searchForm.reservationDateStr}:(this.searchForm.reservationDateStr=o()().format("YYYY-MM-DD"),{reservationDateStr:o()().format("YYYY-MM-DD")})}},created:function(){},mounted:function(){}}},1134:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(45),o=a.n(r),s=a(86);t.default={components:{},props:{tableData:{type:Array,default:[]},tabConKeyName:{type:String,default:""}},data:function(){return{roleEnnames:""}},watch:{},computed:o()({},a.i(s.c)({appVuex:function(e){return e.appVuex}})),methods:{handleSelectionChange:function(){this.$emit("handleSelectionChange")}},created:function(){},mounted:function(){}}},1146:function(e,t){},1152:function(e,t){},1157:function(e,t){},1190:function(e,t){},1191:function(e,t){},1242:function(e,t,a){function r(e){a(1152)}var o=a(85)(a(1131),a(1260),r,"data-v-20186425",null);e.exports=o.exports},1243:function(e,t,a){function r(e){a(1191)}var o=a(85)(a(1132),a(1299),r,"data-v-ab9fd85c",null);e.exports=o.exports},1244:function(e,t,a){function r(e){a(1146)}var o=a(85)(a(1133),a(1254),r,"data-v-115bdae0",null);e.exports=o.exports},1245:function(e,t,a){function r(e){a(1157)}var o=a(85)(a(1134),a(1265),r,"data-v-283d2cc6",null);e.exports=o.exports},1254:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchForm"},[e._m(0),e._v(" "),a("el-form",{staticClass:"clearfix"},[a("div",{staticClass:"fSearch-f"},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,sm:8,md:8,lg:5,xl:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"今日预约"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",clearable:!1},on:{change:function(t){return e.handleItemChange("reservationDateStr",e.searchForm.reservationDateStr)}},model:{value:e.searchForm.reservationDateStr,callback:function(t){e.$set(e.searchForm,"reservationDateStr",t)},expression:"searchForm.reservationDateStr"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"btnSrarch"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchData}},[e._v("查 询")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.resetSearchData}},[e._v("重 置")])],1)])])],1)],1)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("i"),e._v(" "),a("span",[e._v("筛选查询")])])}]}},1260:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.mutations.modalTitle,visible:e.mutations.dialogFormVisible,center:e.mutations.center,"show-close":!1}},[a("div",{staticClass:"PatientInfoBox"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:"/hlm-web/static/img/avatar.jpg"}})]),e._v(" "),a("el-row",{staticClass:"textBox",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("姓名 : "+e._s(e.patientDetail.name))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[e._v("病例号 : "+e._s(e.patientDetail.caseNo))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("生日 : "+e._s(e.patientDetail.birthDate))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("手机: "+e._s(e.patientDetail.phone))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("地址 : "+e._s(e.patientDetail.province)+e._s(e.patientDetail.city)+e._s(e.patientDetail.area))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("初诊日期 :  "+e._s(e.patientDetail.createTime)+" ")]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("初诊医生:  "+e._s(e.patientDetail.firstMemberName))])],1)],1),e._v(" "),"triage"===e.mutations.keyName?a("div",[a("el-form",{ref:"formData",staticClass:"formBox",attrs:{model:e.formData,rules:e.formDataRules,"label-width":"100px"}},[a("div",{staticClass:"TriageBox"},[a("h2",[e._v("今日预约 "+e._s(e.scopeItem.reservationDate)+" "+e._s(e.scopeItem.reservationDoctorName))]),e._v(" "),a("div",{staticClass:"triageType"},[a("el-radio",{attrs:{label:"NEWDIAGNOSIS",border:""},model:{value:e.formData.visitingType,callback:function(t){e.$set(e.formData,"visitingType",t)},expression:"formData.visitingType"}},[e._v("初诊")]),e._v(" "),a("el-radio",{attrs:{label:"REVIEW",border:""},model:{value:e.formData.visitingType,callback:function(t){e.$set(e.formData,"visitingType",t)},expression:"formData.visitingType"}},[e._v("复诊")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"咨询师："}},[e._v("\n                    "+e._s(e.scopeItem.advisoryName)+"\n                  ")])],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"医生：",prop:"reservationDoctorNo"}},[a("el-select",{attrs:{placeholder:"请选择医生"},model:{value:e.formData.reservationDoctorNo,callback:function(t){e.$set(e.formData,"reservationDoctorNo",t)},expression:"formData.reservationDoctorNo"}},e._l(e.appVuex.shop_doctor,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"护士："}},[a("el-select",{attrs:{placeholder:"请选择医生"},model:{value:e.formData.assistantNo,callback:function(t){e.$set(e.formData,"assistantNo",t)},expression:"formData.assistantNo"}},[a("el-option",{attrs:{label:"暂无",value:""}}),e._v(" "),e._l(e.appVuex.shop_nurse,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})})],2)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"time"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1)],1)])],1):e._e(),e._v(" "),"transfer"===e.mutations.keyName?a("div",[a("el-form",{ref:"formDataTransfer",staticClass:"formBox",attrs:{model:e.formDataTransfer,rules:e.formTransferRules,"label-width":"100px"}},[a("div",{staticClass:"TriageBox"},[a("h2",[e._v("今日预约 "+e._s(e.scopeItem.reservationDate)+" "+e._s(e.scopeItem.reservationDoctorName))]),e._v(" "),a("div",{staticClass:"triageType"},[a("el-radio",{attrs:{label:"NEWDIAGNOSIS",border:""},model:{value:e.formDataTransfer.visitingType,callback:function(t){e.$set(e.formDataTransfer,"visitingType",t)},expression:"formDataTransfer.visitingType"}},[e._v("初诊")]),e._v(" "),a("el-radio",{attrs:{label:"REVIEW",border:""},model:{value:e.formDataTransfer.visitingType,callback:function(t){e.$set(e.formDataTransfer,"visitingType",t)},expression:"formDataTransfer.visitingType"}},[e._v("复诊")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"预约日期：",prop:"visitingDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间","picker-options":e.pickerOptions0},model:{value:e.formDataTransfer.visitingDate,callback:function(t){e.$set(e.formDataTransfer,"visitingDate",t)},expression:"formDataTransfer.visitingDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"接诊医生：",prop:"registeredDoctorNo"}},[a("el-select",{attrs:{placeholder:"请选择医生"},model:{value:e.formDataTransfer.registeredDoctorNo,callback:function(t){e.$set(e.formDataTransfer,"registeredDoctorNo",t)},expression:"formDataTransfer.registeredDoctorNo"}},e._l(e.appVuex.shop_doctor,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.formDataTransfer.remark,callback:function(t){e.$set(e.formDataTransfer,"remark",t)},expression:"formDataTransfer.remark"}})],1)],1)],1)],1)])],1):e._e(),e._v(" "),"createCase"===e.mutations.keyName?a("div",[a("el-form",{ref:"formDataCase",staticClass:"formBox",attrs:{model:e.formDataCase,rules:e.formCaseRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"医生："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formDataCase.doctorNo,callback:function(t){e.$set(e.formDataCase,"doctorNo",t)},expression:"formDataCase.doctorNo"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.appVuex.shop_doctor,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})})],2)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"护士："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formDataCase.assistantNo,callback:function(t){e.$set(e.formDataCase,"assistantNo",t)},expression:"formDataCase.assistantNo"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.appVuex.shop_nurse,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})})],2)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊时间：",prop:"visitingDate"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.formDataCase.visitingDate,callback:function(t){e.$set(e.formDataCase,"visitingDate",t)},expression:"formDataCase.visitingDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"类型：",prop:"visitingType"}},[a("el-radio",{attrs:{label:"NEWDIAGNOSIS",border:""},model:{value:e.formDataCase.visitingType,callback:function(t){e.$set(e.formDataCase,"visitingType",t)},expression:"formDataCase.visitingType"}},[e._v("初诊病历")]),e._v(" "),a("el-radio",{attrs:{label:"REVIEW",border:""},model:{value:e.formDataCase.visitingType,callback:function(t){e.$set(e.formDataCase,"visitingType",t)},expression:"formDataCase.visitingType"}},[e._v("复诊病历")])],1)],1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("主诉及病史\n        ")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"主诉："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入主诉"},model:{value:e.formDataCase.mainRemark,callback:function(t){e.$set(e.formDataCase,"mainRemark",t)},expression:"formDataCase.mainRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"现病史："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入现病史"},model:{value:e.formDataCase.mainCurrentRemark,callback:function(t){e.$set(e.formDataCase,"mainCurrentRemark",t)},expression:"formDataCase.mainCurrentRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"既往史："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入既往史"},model:{value:e.formDataCase.mainPastRemark,callback:function(t){e.$set(e.formDataCase,"mainPastRemark",t)},expression:"formDataCase.mainPastRemark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("口腔检查\n        ")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"口腔检查："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入口腔检查"},model:{value:e.formDataCase.checkOralRemark,callback:function(t){e.$set(e.formDataCase,"checkOralRemark",t)},expression:"formDataCase.checkOralRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"辅助检查："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入辅助检查"},model:{value:e.formDataCase.checkAuxiliaryRemark,callback:function(t){e.$set(e.formDataCase,"checkAuxiliaryRemark",t)},expression:"formDataCase.checkAuxiliaryRemark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("诊断与治疗计划\n        ")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"诊断："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入诊断"},model:{value:e.formDataCase.planDiagnosisRemark,callback:function(t){e.$set(e.formDataCase,"planDiagnosisRemark",t)},expression:"formDataCase.planDiagnosisRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"治疗计划："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入治疗计划"},model:{value:e.formDataCase.planTreatmentRemark,callback:function(t){e.$set(e.formDataCase,"planTreatmentRemark",t)},expression:"formDataCase.planTreatmentRemark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("处置与医嘱\n        ")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"处置："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入处置"},model:{value:e.formDataCase.dmDisposalRemark,callback:function(t){e.$set(e.formDataCase,"dmDisposalRemark",t)},expression:"formDataCase.dmDisposalRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"医嘱："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入医嘱"},model:{value:e.formDataCase.dmMedicalRemark,callback:function(t){e.$set(e.formDataCase,"dmMedicalRemark",t)},expression:"formDataCase.dmMedicalRemark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("其他\n        ")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"标签："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入标签"},model:{value:e.formDataCase.otherLabelRemark,callback:function(t){e.$set(e.formDataCase,"otherLabelRemark",t)},expression:"formDataCase.otherLabelRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:e.formDataCase.otherRemark,callback:function(t){e.$set(e.formDataCase,"otherRemark",t)},expression:"formDataCase.otherRemark"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleModalCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleModalConfirm}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},1265:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("el-table",{staticClass:"mb10",staticStyle:{"text-align":"center"},attrs:{data:e.tableData,border:"",height:"600"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"left",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"patientName",label:"患者姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reservationDate",label:"预约时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.reservationDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reservationDate",label:"挂号时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.registeredDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reservationType",label:"预约进度"},scopedSlots:e._u([{key:"default",fn:function(t){return["RESERVATION"===t.row.reservationType?a("span",[e._v("预约")]):e._e(),e._v(" "),"REGISTERED"===t.row.reservationType?a("span",[e._v("挂号")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"patientType",label:"挂号类型"},scopedSlots:e._u([{key:"default",fn:function(t){return["PT"===t.row.patientType?a("span",[e._v("普通")]):e._e(),e._v(" "),"LS"===t.row.patientType?a("span",[e._v("待定")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reservationDoctorName",label:"医生"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceChooses",label:"预约项目","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.serviceChooses,function(r,o){return a("span",{key:r.code},[e._v("\n              "+e._s(r.projectPropertyName)),t.row.serviceChooses.length-1>o?a("span",[e._v("/")]):e._e()])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"visitingType",label:"预约类型"},scopedSlots:e._u([{key:"default",fn:function(t){return["NEWDIAGNOSIS"===t.row.visitingType?a("span",[e._v("初诊")]):e._e(),e._v(" "),"REVIEW"===t.row.visitingType?a("span",[e._v("复诊")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"vistitingStatus",label:"就诊状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["UNCONFIRMED"===t.row.vistitingStatus?a("span",[a("span",{staticClass:"indicatorA"},[a("span"),e._v("未确认")])]):e._e(),e._v(" "),"TREATMENT"===t.row.vistitingStatus?a("span",[a("span",{staticClass:"indicatorB"},[a("span"),e._v("治疗中")])]):e._e(),e._v(" "),"CANCEL"===t.row.vistitingStatus?a("span",[a("span",{staticClass:"indicatorC"},[a("span"),e._v("取消")])]):e._e(),e._v(" "),"FINISHED"===t.row.vistitingStatus?a("span",[a("span",{staticClass:"indicatorD"},[a("span"),e._v("治疗完成")])]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"150"}}),e._v(" "),this.appVuex.menulist.find(function(e){return"VisitingForAdvisory"===e.permission})?a("el-table-column",{attrs:{label:"接诊",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("Advisory",null,{row:t.row})}}],null,!0)}):e._e(),e._v(" "),this.appVuex.menulist.find(function(e){return"VsitingForDoctor"===e.permission})?a("el-table-column",{attrs:{label:"接诊",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("Doctor",null,{row:t.row})}}],null,!0)}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"收费",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("Collection",null,{row:t.row})}}],null,!0)}),e._v(" "),this.appVuex.menulist.find(function(e){return"Advisory"===e.permission})?a("el-table-column",{attrs:{label:"咨询",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("bb",null,{row:t.row})}}],null,!0)}):e._e(),e._v(" "),this.appVuex.menulist.find(function(e){return"Triage"===e.permission})?a("el-table-column",{attrs:{label:"分诊",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("cc",null,{row:t.row})}}],null,!0)}):e._e(),e._v(" "),this.appVuex.menulist.find(function(e){return"Referral"===e.permission})?a("el-table-column",{attrs:{label:"转诊",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("ff",null,{row:t.row})}}],null,!0)}):e._e(),e._v(" "),this.appVuex.menulist.find(function(e){return"Medical"===e.permission})?a("el-table-column",{attrs:{label:"病历",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("gg",null,{row:t.row})}}],null,!0)}):e._e(),e._v(" "),this.appVuex.menulist.find(function(e){return"PatientReservation"===e.permission})?a("el-table-column",{attrs:{label:"复诊预约",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("dd",null,{row:t.row})}}],null,!0)}):e._e(),e._v(" "),this.appVuex.menulist.find(function(e){return"Finished"===e.permission})?a("el-table-column",{attrs:{label:"治疗完成",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("ee",null,{row:t.row})}}],null,!0)}):e._e()],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listTitle"},[a("i"),e._v(" "),a("span",[e._v("数据列表")])])}]}},1298:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isLoadModal?a("Modal",{attrs:{patientDetail:e.patientDetail,scopeItem:e.scopeItem,CaseDetail:e.CaseDetail,newAlreadyInfo:e.newAlreadyInfo},on:{handleModalConfirm:e.handleModalConfirm,handleModalCancel:e.handleModalCancel}}):e._e(),e._v(" "),e.isLoadComModal?a("ComModal",{attrs:{patientDetail:e.patientDetail,consulDetail:e.consulDetail},on:{handleModalConfirm:e.handleModalConfirm,handleModalCancel:e.handleModalCancel}}):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"审核",visible:e.dialogVisible_approve,width:"30%"},on:{"update:visible":function(t){e.dialogVisible_approve=t}}},[a("br"),e._v("\n      退款类型 : "),(e.billOperate?"ALL"===e.billOperate.refundType:"")?a("span",[e._v("退整单")]):e._e(),(e.billOperate?"PART"===e.billOperate.refundType:"")?a("span",[e._v("退金额")]):e._e(),e._v(" "),a("br"),a("br"),e._v(" "),a("el-table",{ref:"tableCheckbox",attrs:{data:e.billProjectList}},[a("el-table-column",{key:Math.random(),attrs:{prop:"projectName",label:"项目名称"}}),e._v(" "),a("el-table-column",{key:Math.random(),attrs:{label:"单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                 "+e._s(t.row.unitPrice/100)+"\n              ")]}}])}),e._v(" "),a("el-table-column",{key:Math.random(),attrs:{prop:"itemNum",label:"数量"}}),e._v(" "),a("el-table-column",{key:Math.random(),attrs:{label:"应收"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                 "+e._s(t.row.itemDiscountAmount/100)+"\n              ")]}}])}),e._v(" "),"PART"===e.billOperate.refundType?a("span",[a("el-table-column",{key:Math.random(),attrs:{label:"退实收"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                   "+e._s(t.row.currentRtAmount)+"\n               ")]}}],null,!1,3470106558)})],1):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"可退数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.itemNum-t.row.rtNum)+"\n              ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"需退数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.currentRtNum))])]}}])})],1),e._v(" "),a("div",{staticClass:"totalBox"},[a("span",[e._v("应收："+e._s(e.billDetail.reallyAmount/100))]),e._v(" "),a("span",[e._v("实收："+e._s(e.billDetail.payAmount/100))]),e._v(" "),a("span",[e._v("退实收："+e._s(e.returnReallyAmount/100))]),e._v(" "),a("span",[e._v("退后应收："+e._s(e.backReallyAmount/100))]),e._v(" "),a("span",[e._v("退后实收："+e._s(e.backPayAmount/100))])]),e._v(" "),a("div",{staticClass:"returnInfo"},[a("span",[e._v("退费人: "+e._s(e.billOperate.recieverName))]),e._v(" "),a("span",[e._v("退费总额: "),a("i",[e._v(e._s(e.returnReallyAmount/100))])])]),e._v(" "),a("el-form",{ref:"formReturnAmount",staticClass:"demo-form-inline",staticStyle:{width:"100%",margin:"30px 0 0 0"},attrs:{inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"退费方式"}},[e._v("\n               "+e._s(e.billOperate.payTypeName)+"\n          ")]),e._v(" "),a("el-form-item",{attrs:{label:"退费时间"}},[e._v("\n              "+e._s(e.billOperate.payTime)+"\n          ")])],1),e._v(" "),a("div",{staticStyle:{padding:"0 30px 30px 30px"}},[e._v("\n        备注"),a("br"),a("br"),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleOperApprove("PASS")}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.handleOperApprove("UNPASS")}}},[e._v("拒绝")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible_approve=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.handleClickTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"今日工作",name:"worktoday"}},[a("Search",{on:{searchData:e.searchData,resetSearchData:e.resetSearchData}}),e._v(" "),a("Table",{attrs:{tableData:e.tableData,tabConKeyName:"customcues"},scopedSlots:e._u([{key:"Advisory",fn:function(t){return[!t.row.visitingAdvisoryDate?e._e():a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-check",circle:""}}),e._v(" "),t.row.visitingAdvisoryDate?e._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleClinicReceipt(t.row)}}})]}},{key:"Doctor",fn:function(t){return[!t.row.visitingDate?e._e():a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-check",circle:""}}),e._v(" "),t.row.visitingDate?e._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleClinicReceipt(t.row)}}})]}},{key:"Collection",fn:function(t){return[!t.row.remark4?e._e():a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-check",circle:""},on:{click:function(a){return e.handleCollection(t.row)}}}),e._v(" "),t.row.remark4?e._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleCollection(t.row)}}})]}},{key:"bb",fn:function(t){return[t.row.advisoryDate?a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.handleEditConsul(t.row)}}}):e._e(),e._v(" "),t.row.advisoryDate?e._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleCreateConsul(t.row)}}})]}},{key:"cc",fn:function(t){return[a("el-button",{attrs:{disabled:!!t.row.visitingDate,type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleTriage(t.row)}}})]}},{key:"ff",fn:function(t){return[a("el-button",{attrs:{disabled:"FINISHED"===t.row.vistitingStatus,type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleTransfer(t.row)}}})]}},{key:"gg",fn:function(t){return[t.row.medicalDate?a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.handleEditCase(t.row)}}}):e._e(),e._v(" "),t.row.medicalDate?e._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleAddCase(t.row)}}})]}},{key:"dd",fn:function(t){return[t.row.reviewReservationDate?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-check",circle:""}}):e._e(),e._v(" "),t.row.reviewReservationDate?e._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleFollowUp(t.row)}}})]}},{key:"ee",fn:function(t){return[t.row.finishedDate?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-check",circle:""}}):e._e(),e._v(" "),t.row.finishedDate?e._e():a("el-button",{attrs:{disabled:"TREATMENT"!==t.row.vistitingStatus&&!t.row.visitingDate,type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.handleTreaSuccess(t.row)}}})]}}])}),e._v(" "),a("Pagination",{attrs:{currentPage:e.currentPage,pageSize:e.limit,total:e.total},on:{handlePageQuery:e.handlePageQuery}})],1),e._v(" "),this.appVuex.menulist.find(function(e){return"HlmBillCheck"===e.permission})?a("el-tab-pane",{attrs:{label:"费用审批",name:"chargeapprove"}},[a("div",{staticClass:"searchForm"},[a("div",{staticClass:"title"},[a("i"),e._v(" "),a("span",[e._v("筛选查询")])]),e._v(" "),a("el-form",{staticClass:"clearfix"},[a("div",{staticClass:"fSearch-f"},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"初诊日期"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:e.handleSearchItemChange},model:{value:e.chargeApproveForm.times,callback:function(t){e.$set(e.chargeApproveForm,"times",t)},expression:"chargeApproveForm.times"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"患者来源"}},[a("el-select",{attrs:{placeholder:"请选择患者来源"},on:{change:e.handleSearchItemChange},model:{value:e.chargeApproveForm.checkStatus,callback:function(t){e.$set(e.chargeApproveForm,"checkStatus",t)},expression:"chargeApproveForm.checkStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"UNCHECK"}}),e._v(" "),a("el-option",{attrs:{label:"已批准",value:"PASS"}}),e._v(" "),a("el-option",{attrs:{label:"已拒绝",value:"UNPASS"}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"btnSrarch"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchChargeApprove}},[e._v("查 询")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.resetChargeApprove}},[e._v("重 置")])],1)])])],1)],1)])],1),e._v(" "),a("div",{staticClass:"listTitle"},[a("i"),e._v(" "),a("span",[e._v("数据列表")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.chargeApproveList}},[a("el-table-column",{attrs:{prop:"applyTime",label:"申请日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"memberNameGuid",label:"申请人"}}),e._v(" "),a("el-table-column",{attrs:{label:"申请类型"},scopedSlots:e._u([{key:"default",fn:function(t){return["PAY"===t.row.operateType?a("span",[e._v("收费")]):e._e(),e._v(" "),"DEBT"===t.row.operateType?a("span",[e._v("收欠费")]):e._e(),e._v(" "),"REFUND"===t.row.operateType?a("span",[e._v("退款")]):e._e()]}}],null,!1,2206354694)}),e._v(" "),a("el-table-column",{attrs:{label:"退费金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.row.payAmount/100)+"\n                  ")]}}],null,!1,2692889511)}),e._v(" "),a("el-table-column",{attrs:{prop:"merchantName",label:"诊所"}}),e._v(" "),a("el-table-column",{attrs:{prop:"applyTime",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["UNPASS"===t.row.checkStatus?a("span",[a("span",{staticClass:"indicatorA"},[a("span"),e._v("已拒绝")])]):e._e(),e._v(" "),"UNCHECK"===t.row.checkStatus?a("span",[a("span",{staticClass:"indicatorB"},[a("span"),e._v("待审核")])]):e._e(),e._v(" "),"PASS"===t.row.checkStatus?a("span",[a("span",{staticClass:"indicatorD"},[a("span"),e._v("已批准")])]):e._e()]}}],null,!1,2981369495)}),e._v(" "),a("el-table-column",{attrs:{prop:"checkTime",label:"审批时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"checkerNameGuid",label:"审批人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return"UNCHECK"===t.row.checkStatus?[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){return e.handleApproveCharge(t.row)}}},[e._v("审批")])]:void 0}}],null,!0)})],1),e._v(" "),a("br"),e._v(" "),a("el-pagination",{attrs:{"current-page":e.approvePagination.currentPage,"page-size":e.approvePagination.pageSize,background:"",layout:"total, prev, pager, next",total:e.approvePagination.total},on:{"current-change":e.handlePageQueryApprove}})],1):e._e()],1)],1)},staticRenderFns:[]}},1299:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,background:"",layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handlePageQuery}})},staticRenderFns:[]}}});
//# sourceMappingURL=1.ab9f1f7987d6c8391417.js.map