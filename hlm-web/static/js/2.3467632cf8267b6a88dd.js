webpackJsonp([2],{1052:function(e,t,a){function s(e){a(1153)}var i=a(85)(a(1095),a(1261),s,"data-v-21ac6843",null);e.exports=i.exports},1059:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(45),i=a.n(s),o=a(86),r=a(0),n=a.n(r);a(174);t.default={components:{},props:{patientDetail:{type:Object,default:function(){return{}}},BookingDetail:{type:Object,default:function(){return{}}},consulDetail:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=function(t,a,s){0===e.checkeds.length?s(new Error("请选择其中一个项目")):s()},a=function(e,t,a){""===t&&a(new Error("请输入预约时长")),/^[0-9]+.?[0-9]*$/.test(t)?a():a(new Error("请输入数字"))};return{timeLengths:[{time:15},{time:30},{time:45},{time:60}],activeName:"first",judgeVistiStatus:{UNCONFIRMED:!0,TREATMENT:!0,CANCEL:!0,FINISHED:!0},formDataConsul:{projectCodes:[]},checkeds:[],serviceChoosesJson:[],formDataCreate:{patientType:"PT",visitingType:"NEWDIAGNOSIS",advisoryNo:"",advisoryName:"",reservationDate:n()().format("YYYY-MM-DD HH:mm:ss"),reservationDateLen:30,reservationDoctorNo:"",reservationDoctorName:"",vistitingStatus:"UNCONFIRMED",remark:""},formDataRegister:{registeredDate:"",vistitingStatus:"UNCONFIRMED",advisoryName:"",reservationDoctorName:"",remark:""},formRegisterRules:{registeredDate:[{required:!0,message:"请选择挂号时间",trigger:"change"}],vistitingStatus:[{required:!0,message:"请选择就诊状态",trigger:"change"}],advisoryName:[{required:!0,message:"请选择咨询师",trigger:"change"}],reservationDoctorName:[{required:!0,message:"请选择医生",trigger:"change"}],checkeds:[{required:!0,validator:t,trigger:"change"}]},formDataBookingRules:{patientType:[{required:!0,message:"请选择患者类型",trigger:"change"}],visitingType:[{required:!0,message:"请选择就诊类型",trigger:"change"}],vistitingStatus:[{required:!0,message:"请选择就诊状态",trigger:"change"}],reservationDate:[{required:!0,message:"请选择预约日期",trigger:"change"}],reservationDateLen:[{required:!0,validator:a,trigger:"blur"}],checkeds:[{required:!0,validator:t,trigger:"change"}]},formDataRules:{visitingDate:[{required:!0,message:"请选择就诊时间",trigger:"change"}],projectCodes:[{required:!0,message:"请选择咨询项目",trigger:"change"}],want:[{required:!0,message:"请选择成交意愿",trigger:"change"}]},pickerOptions0:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},watch:{},computed:i()({},a.i(o.c)({mutations:function(e){return e.mutations},appVuex:function(e){return e.appVuex}})),methods:{handleModalConfirm:function(e){var t=this,a=this.mutations.keyName;"createConsul"!==a&&"editConsul"!==a||this.$refs.formConsul.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.formDataConsul;a.projectNames=t.appVuex.patient_project.filter(function(e){return a.projectCodes.indexOf(e.code)>=0}).map(function(e){return e.lableName}),console.log(a),t.$emit("handleModalConfirm",a,function(){t.$refs.formConsul.resetFields(),t.$message({type:"success",message:"新增咨询成功!"})})}),"CreateAndEditBooking"===a&&this.$refs.formBooking.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.serviceChoosesJson,s=t.formDataCreate,i=t.appVuex,o=i.shop_doctor,r=i.shop_advisory,n=t.BookingDetail.serviceChooses,c=s.reservationDoctorNo,l=s.advisoryNo;c&&(s.reservationDoctorName=o.find(function(e){return e.memberNo==c}).memberName),l&&(s.advisoryName=r.find(function(e){return e.memberNo==l}).memberName),s.reservationType="RESERVATION",0===a.length?s.serviceChoosesJson=n:s.serviceChoosesJson=a,t.$emit("handleModalConfirm",s,function(){t.$refs.formBooking.resetFields(),t.checkeds=[]})}),"register"===a&&this.$refs.formRegister.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.serviceChoosesJson,s=t.formDataRegister,i=t.formDataCreate,o=t.appVuex,r=o.shop_doctor,c=o.shop_advisory,l=t.BookingDetail.serviceChooses,h=s.reservationDoctorName,d=s.advisoryName,m=t.patientDetail.type;i.advisoryNo&&(s.advisoryNo=c.find(function(e){return e.memberName==d}).memberNo),s.reservationDoctorNo=r.find(function(e){return e.memberName==h}).memberNo,s.registeredDoctorNo=r.find(function(e){return e.memberName==h}).memberNo,s.registeredDoctorName=s.reservationDoctorName,s.reservationType="REGISTERED",s.reservationDateLen=15,s.vistitingStatus="UNCONFIRMED",s.visitingType="NEWDIAGNOSIS",s.registeredDate=n()().format("YYYY-MM-DD HH:mm:ss"),0===a.length?(console.log(t.checkeds),s.serviceChoosesJson=l):(console.log(a),s.serviceChoosesJson=a),s.patientType=m,console.log(s),t.$emit("handleModalConfirm",s,function(){t.$refs.formRegister.resetFields(),t.checkeds=[],t.$message({type:"success",message:"挂号成功!"})})})},handleCheckedCitiesChange:function(e){var t=this;e.childs.forEach(function(a){t.checkeds.indexOf(a.code)>=0&&t.serviceChoosesJson.push({projectCode:e.code,projectName:e.lableName,projectPropertyCode:a.code,projectPropertyName:a.lableName})}),this.serviceChoosesJson=this.serviceChoosesJson.filter(function(e){return t.checkeds.indexOf(e.projectPropertyCode)>=0});for(var a=[],s={},i=0;i<this.serviceChoosesJson.length;i++)s[this.serviceChoosesJson[i].projectPropertyCode]||(a.push(this.serviceChoosesJson[i]),s[this.serviceChoosesJson[i].projectPropertyCode]=!0);this.serviceChoosesJson=a,console.log(this.serviceChoosesJson)},handleVistiStatus:function(e){var t=n()().format("YYYY-MM-DD HH:mm:ss");n()(e).isBefore(t)?(this.judgeVistiStatus.TREATMENT=!0,this.judgeVistiStatus.CANCEL=!0,this.judgeVistiStatus.FINISHED=!0):(this.judgeVistiStatus.TREATMENT=!1,this.judgeVistiStatus.CANCEL=!1,this.judgeVistiStatus.FINISHED=!1)},handleModalCancel:function(){this.$emit("handleModalCancel"),this.checkeds=[]}},created:function(){},mounted:function(){var e=this.BookingDetail;this.consulDetail;if(e.code){for(var t in this.BookingDetail)"updateId"!==t&&"updateName"!==t&&"serviceChooses"!==t&&(this.formDataCreate[t]=this.BookingDetail[t],this.formDataRegister[t]=this.BookingDetail[t]);this.checkeds=this.BookingDetail.serviceChooses.map(function(e){return e.projectPropertyCode})}this.consulDetail.projectNames&&(this.formDataConsul=this.consulDetail,this.formDataConsul.projectNames=this.consulDetail.projectNames.split(","),this.formDataConsul.projectCodes=this.consulDetail.projectCodes.split(","))}}},1060:function(e,t){},1061:function(e,t,a){function s(e){a(1060)}var i=a(85)(a(1059),a(1062),s,"data-v-16d09048",null);e.exports=i.exports},1062:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.mutations.modalTitle,visible:e.mutations.BookingModalVisible,center:e.mutations.center,"show-close":!1}},[a("div",{staticClass:"PatientInfoBox"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:"/hlm-web/static/img/avatar.jpg"}})]),e._v(" "),a("el-row",{staticClass:"textBox",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("姓名 : "+e._s(e.patientDetail.name))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[e._v("病例号 : "+e._s(e.patientDetail.caseNo))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("生日 : "+e._s(e.patientDetail.birthDate))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("手机: "+e._s(e.patientDetail.phone))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("地址 : "+e._s(e.patientDetail.province)+" "+e._s(e.patientDetail.city)+e._s(e.patientDetail.area))]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("初诊日期 :  "+e._s(e.patientDetail.createTime)+" ")]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[e._v("初诊医生:  "+e._s(e.patientDetail.firstMemberName))])],1)],1),e._v(" "),"CreateAndEditBooking"===e.mutations.keyName?a("div",[a("el-form",{ref:"formBooking",staticClass:"formBox",attrs:{model:e.formDataCreate,rules:e.formDataBookingRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"患者类型：",prop:"patientType"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.formDataCreate.patientType,callback:function(t){e.$set(e.formDataCreate,"patientType",t)},expression:"formDataCreate.patientType"}},[a("el-radio-button",{attrs:{label:"PT"}},[e._v("普通")]),e._v(" "),a("el-radio-button",{attrs:{label:"LS"}},[e._v("待定")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊类型：",prop:"visitingType"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.formDataCreate.visitingType,callback:function(t){e.$set(e.formDataCreate,"visitingType",t)},expression:"formDataCreate.visitingType"}},[a("el-radio-button",{attrs:{label:"NEWDIAGNOSIS"}},[e._v("初诊")]),e._v(" "),a("el-radio-button",{attrs:{label:"REVIEW"}},[e._v("复诊")])],1)],1)],1),e._v(" "),"CreateAndEditBooking"!==this.mutations.keyName?a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊状态：",prop:"vistitingStatus"}},[a("el-select",{staticStyle:{width:"100%",height:"auto"},model:{value:e.formDataCreate.vistitingStatus,callback:function(t){e.$set(e.formDataCreate,"vistitingStatus",t)},expression:"formDataCreate.vistitingStatus"}},[a("el-option",{attrs:{label:"未确认",value:"UNCONFIRMED"}})],1)],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"咨询师："}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.formDataCreate.advisoryNo,callback:function(t){e.$set(e.formDataCreate,"advisoryNo",t)},expression:"formDataCreate.advisoryNo"}},e._l(e.appVuex.shop_advisory,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"医生："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择医生"},model:{value:e.formDataCreate.reservationDoctorNo,callback:function(t){e.$set(e.formDataCreate,"reservationDoctorNo",t)},expression:"formDataCreate.reservationDoctorNo"}},e._l(e.appVuex.shop_doctor,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})}),1)],1)],1),e._v(" "),("PT"===e.formDataCreate.patientType?"UNCONFIRMED"!==e.formDataCreate.vistitingStatus&&"CANCEL"!==e.formDataCreate.vistitingStatus:e.formDataCreate.patientType)?e._e():a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"预约日期：",prop:"PT"===e.formDataCreate.patientType?"reservationDate":""}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间","picker-options":e.pickerOptions0},model:{value:e.formDataCreate.reservationDate,callback:function(t){e.$set(e.formDataCreate,"reservationDate",t)},expression:"formDataCreate.reservationDate"}})],1)],1),e._v(" "),("PT"===e.formDataCreate.patientType?"UNCONFIRMED"!==e.formDataCreate.vistitingStatus&&"CANCEL"!==e.formDataCreate.vistitingStatus:e.formDataCreate.patientType)?e._e():a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"预约时长：",prop:"PT"===e.formDataCreate.patientType?"reservationDateLen":""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择预约时长(分钟)"},model:{value:e.formDataCreate.reservationDateLen,callback:function(t){e.$set(e.formDataCreate,"reservationDateLen",t)},expression:"formDataCreate.reservationDateLen"}},e._l(e.timeLengths,function(e){return a("el-option",{key:e.time,attrs:{label:e.time,value:e.time}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:e.formDataCreate.remark,callback:function(t){e.$set(e.formDataCreate,"remark",t)},expression:"formDataCreate.remark"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{height:"300px","overflow-y":"auto"}},[a("el-form-item",{attrs:{prop:"checkeds"}}),e._v(" "),e._l(e.appVuex.patient_project,function(t){return a("el-col",{key:t.code,attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:t.lableName}},e._l(t.childs,function(s){return a("el-checkbox",{key:s.code,attrs:{label:s.code},on:{change:function(a){return e.handleCheckedCitiesChange(t)}},model:{value:e.checkeds,callback:function(t){e.checkeds=t},expression:"checkeds"}},[e._v("\n                    "+e._s(s.lableName)+"\n                    ")])}),1)],1)})],2)],1)],1):e._e(),e._v(" "),"register"===e.mutations.keyName?a("div",[a("el-form",{ref:"formRegister",staticClass:"formBox",attrs:{model:e.formDataRegister,rules:e.formRegisterRules,"label-width":"0"}},[a("div",{staticClass:"formTitle"},[a("span"),e._v("选择咨询师\n        ")]),e._v(" "),a("el-form-item",[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.formDataRegister.advisoryName,callback:function(t){e.$set(e.formDataRegister,"advisoryName",t)},expression:"formDataRegister.advisoryName"}},e._l(e.appVuex.shop_advisory,function(e){return a("el-radio",{key:e.memberNo,attrs:{border:"",label:e.memberName,value:e.memberNo}})}),1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("选择医生\n        ")]),e._v(" "),a("el-form-item",{attrs:{prop:"reservationDoctorName"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.formDataRegister.reservationDoctorName,callback:function(t){e.$set(e.formDataRegister,"reservationDoctorName",t)},expression:"formDataRegister.reservationDoctorName"}},e._l(e.appVuex.shop_doctor,function(e){return a("el-radio",{key:e.memberNo,attrs:{border:"",label:e.memberName,value:e.memberNo}})}),1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("预约项目\n      ")]),e._v(" "),a("div",{staticStyle:{height:"300px","overflow-y":"auto"}},e._l(e.appVuex.patient_project,function(t){return a("div",{key:t.code},[e._v("\n            "+e._s(t.lableName)+"\n            "),a("el-form-item",{attrs:{prop:"checkeds"}},e._l(t.childs,function(s){return a("el-checkbox",{key:s.code,attrs:{label:s.code},on:{change:function(a){return e.handleCheckedCitiesChange(t)}},model:{value:e.checkeds,callback:function(t){e.checkeds=t},expression:"checkeds"}},[e._v("\n                "+e._s(s.lableName)+"\n                ")])}),1)],1)}),0),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("备注\n        ")]),e._v(" "),a("el-form-item",{attrs:{prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入备注"},model:{value:e.formDataRegister.remark,callback:function(t){e.$set(e.formDataRegister,"remark",t)},expression:"formDataRegister.remark"}})],1)],1)],1):e._e(),e._v(" "),"createConsul"===e.mutations.keyName||"editConsul"===e.mutations.keyName?a("div",[a("el-form",{ref:"formConsul",staticClass:"formBox",attrs:{model:e.formDataConsul,rules:e.formDataRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊时间：",prop:"visitingDate"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.formDataConsul.visitingDate,callback:function(t){e.$set(e.formDataConsul,"visitingDate",t)},expression:"formDataConsul.visitingDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"咨询项目：",prop:"projectCodes"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.formDataConsul.projectCodes,callback:function(t){e.$set(e.formDataConsul,"projectCodes",t)},expression:"formDataConsul.projectCodes"}},e._l(e.appVuex.patient_project,function(e){return a("el-option",{key:e.code,attrs:{label:e.lableName,value:e.code}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"咨询内容：",prop:"advisoryContent"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入咨询内容"},model:{value:e.formDataConsul.advisoryContent,callback:function(t){e.$set(e.formDataConsul,"advisoryContent",t)},expression:"formDataConsul.advisoryContent"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"成交意愿：",prop:"want"}},[a("el-select",{model:{value:e.formDataConsul.want,callback:function(t){e.$set(e.formDataConsul,"want",t)},expression:"formDataConsul.want"}},[a("el-option",{attrs:{label:"高",value:"HIGH"}}),e._v(" "),a("el-option",{attrs:{label:"中",value:"CENTRAL"}}),e._v(" "),a("el-option",{attrs:{label:"低",value:"LOW"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"意向说明：",prop:"explainRemark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入意向说明"},model:{value:e.formDataConsul.explainRemark,callback:function(t){e.$set(e.formDataConsul,"explainRemark",t)},expression:"formDataConsul.explainRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:e.formDataConsul.remark,callback:function(t){e.$set(e.formDataConsul,"remark",t)},expression:"formDataConsul.remark"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleModalCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleModalConfirm}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},1063:function(e,t,a){function s(e){a(1065)}var i=a(85)(a(1064),a(1068),s,"data-v-03ce8d6a",null);e.exports=i.exports},1064:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(124),i=a.n(s),o=a(45),r=a.n(o),n=a(86),c=a(56);t.default={components:{},props:{CaseDetail:{type:Object,default:function(){return{}}},patientDetail:{type:Object,default:function(){return{}}},newAlreadyInfo:{type:Object,default:function(){return{}}},isCaseInfo:{type:Boolean,default:!1}},data:function(){return{caseForm:{doctorNo:"",assistantNo:"",visitingDate:"",visitingType:"",mainRemark:"",mainCurrentRemark:"",mainPastRemark:"",checkOralRemark:"",checkAuxiliaryRemark:"",planDiagnosisRemark:"",planTreatmentRemark:"",dmDisposalRemark:"",dmMedicalRemark:"",otherLabelRemark:"",otherRemark:""},formDataRules:{visitingDate:[{required:!0,message:"请选择就诊时间",trigger:"blur"}],visitingType:[{required:!0,message:"请选择患者类型",trigger:"change"}]},babyTeeth5:[{teethName:"E",value:"5"},{teethName:"D",value:"4"},{teethName:"C",value:"3"},{teethName:"B",value:"2"},{teethName:"A",value:"1"}],babyTeeth6:[{teethName:"A",value:"1"},{teethName:"B",value:"2"},{teethName:"C",value:"3"},{teethName:"D",value:"4"},{teethName:"E",value:"5"}],babyTeeth7:[{teethName:"A",value:"1"},{teethName:"B",value:"2"},{teethName:"C",value:"3"},{teethName:"D",value:"4"},{teethName:"E",value:"5"}],babyTeeth8:[{teethName:"E",value:"5"},{teethName:"D",value:"4"},{teethName:"C",value:"3"},{teethName:"B",value:"2"},{teethName:"A",value:"1"}],permanentTeeth1:[{teethName:"8"},{teethName:"7"},{teethName:"6"},{teethName:"5"},{teethName:"4"},{teethName:"3"},{teethName:"2"},{teethName:"1"}],permanentTeeth2:[{teethName:"1"},{teethName:"2"},{teethName:"3"},{teethName:"4"},{teethName:"5"},{teethName:"6"},{teethName:"7"},{teethName:"8"}],permanentTeeth3:[{teethName:"1"},{teethName:"2"},{teethName:"3"},{teethName:"4"},{teethName:"5"},{teethName:"6"},{teethName:"7"},{teethName:"8"}],permanentTeeth4:[{teethName:"8"},{teethName:"7"},{teethName:"6"},{teethName:"5"},{teethName:"4"},{teethName:"3"},{teethName:"2"},{teethName:"1"}],teethSide1:[{sideName:"La",title:"唇面"},{sideName:"B",title:"颊面"},{sideName:"F",title:"唇面颊面"}],teethSide2:[{sideName:"M",title:"近中面"},{sideName:"O/i",title:"颌面/切缘"},{sideName:"D",title:"远中面"}],teethSide3:[{sideName:"L",title:"舌侧"},{sideName:"P",title:"腭侧"}],showToothBox:!1,isDisabled:!1,checkedTeethArr:[],checkedSideArr:[],showViewLabel:null,labelArr1:[],labelArr2:[],labelArr3:[],labelArr4:[],labelArr5:[],sideArr1:[],sideArr2:[],sideArr3:[],sideArr4:[],sideArr5:[],caseTemplate:!1,filterText:"",templateName:"",form:{mainRemark:"",mainCurrentRemark:"",mainPastRemark:"",checkOralRemark:"",checkAuxiliaryRemark:"",planDiagnosisRemark:"",planTreatmentRemark:"",dmDisposalRemark:"",dmMedicalRemark:""},rules:{},modelParent:!1,templateList:[],cascaderData:[],addParentCodeVal:"",addParentCodeName:"",parentForm:{paramsName:"",teName:"",templateName:"",mainRemark:"",mainCurrentRemark:"",mainPastRemark:"",checkOralRemark:"",checkAuxiliaryRemark:"",planDiagnosisRemark:"",planTreatmentRemark:"",dmDisposalRemark:"",dmMedicalRemark:""},parentRules:{},oralModelList:[{checkOralRemark:"",dentalPosition:"",dentalSurface:"",type:"1"}],uploadUrl:c.a.get("userInfo").uploadUrl,showImageLibrary:!1,typeCode:"",ImageLibraryList:[],imageTypeList:[],addImgeArr:[],addImgeCode:[]}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:r()({},a.i(n.c)({mutations:function(e){return e.mutations},appVuex:function(e){return e.appVuex}})),methods:r()({},a.i(n.d)(["ActionToggleModal"]),{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleSaveOper:function(){var e=this;return this.labelArr1.length>0&&""==this.caseForm.checkOralRemark?(this.$message.error("口腔检查中牙位缺少描述"),!1):this.labelArr2.length>0&&""==this.caseForm.checkAuxiliaryRemark?(this.$message.error("辅助检查中牙位缺少描述"),!1):this.labelArr3.length>0&&""==this.caseForm.planDiagnosisRemark?(this.$message.error("诊断中牙位缺少描述"),!1):this.labelArr4.length>0&&""==this.caseForm.planTreatmentRemark?(this.$message.error("治疗计划中牙位缺少描述"),!1):this.labelArr5.length>0&&""==this.caseForm.dmDisposalRemark?(this.$message.error("处置中牙位缺少描述"),!1):void("createCase"===this.mutations.keyName&&this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.caseForm,s=e.$cfg.userInfo||c.a.get("userInfo");s.memberNoGuid,s.memberNameGuid,a.doctorNo&&(a.doctorName=e.appVuex.shop_doctor.find(function(e){return e.memberNo===a.doctorNo}).memberName),a.assistantNo&&(a.assistantName=e.appVuex.shop_nurse.find(function(e){return e.memberNo===a.assistantNo}).memberName);var o=[{checkOralRemark:a.checkOralRemark,dentalPosition:e.labelArr1.join(","),dentalSurface:e.sideArr1,remark:"1"},{checkAuxiliaryRemark:a.checkAuxiliaryRemark,dentalPosition:e.labelArr2.join(","),dentalSurface:e.sideArr2,remark:"2"}],r=[{dmDisposalRemark:a.dmDisposalRemark,dentalPosition:e.labelArr5.join(","),dentalSurface:e.sideArr5}],n=[{planDiagnosisRemark:a.planDiagnosisRemark,dentalPosition:e.labelArr3.join(","),dentalSurface:e.sideArr3,remark:"1"},{planTreatmentRemark:a.planTreatmentRemark,dentalPosition:e.labelArr4.join(","),dentalSurface:e.sideArr4,remark:"2"}];a.checksJson=i()(o),a.dmsJson=i()(r),a.plansJson=i()(n),a.remark2=e.addImgeArr.map(function(e){return e.code}).join(","),e.$emit("handleSaveOper",a,function(){e.$refs.form.resetFields()})}))},handleModalCancel:function(){this.$emit("handleModalCancel")},handelAddPayType:function(){this.oralModelList.push({checkOralRemark:"",dentalPosition:"",dentalSurface:"",type:"1"})},handelDeletePayType:function(){this.oralModelList.pop()},showTeethView:function(e){var t=this;this.clearChecked(!1),this.showToothBox=!this.showToothBox,1===e?(this.showViewLabel=1,this.labelArr1.length&&this.labelArr1.map(function(e){t.reverseShow(e)}),this.sideArr1.length&&this.sideArr1.map(function(e){t.reverseShowSide(e)})):2===e?(this.showViewLabel=2,this.labelArr2.length&&this.labelArr2.map(function(e){t.reverseShow(e)}),this.sideArr2.length&&this.sideArr2.map(function(e){t.reverseShowSide(e)})):3===e?(this.showViewLabel=3,this.labelArr3.length&&this.labelArr3.map(function(e){t.reverseShow(e)}),this.sideArr3.length&&this.sideArr3.map(function(e){t.reverseShowSide(e)})):4===e?(this.showViewLabel=4,this.labelArr4.length&&this.labelArr4.map(function(e){t.reverseShow(e)}),this.sideArr4.length&&this.sideArr4.map(function(e){t.reverseShowSide(e)})):(this.showViewLabel=5,this.labelArr5.length&&this.labelArr5.map(function(e){t.reverseShow(e)}),this.sideArr5.length&&this.sideArr5.map(function(e){t.reverseShowSide(e)}))},reverseShow:function(e){"1"==e.slice(0,1)?this.permanentTeeth1.forEach(function(t){t.teethName==e.slice(1,2)&&(t.checked=!0)}):"2"==e.slice(0,1)?this.permanentTeeth2.forEach(function(t){t.teethName==e.slice(1,2)&&(t.checked=!0)}):"3"==e.slice(0,1)?this.permanentTeeth3.forEach(function(t){t.teethName==e.slice(1,2)&&(t.checked=!0)}):"4"==e.slice(0,1)?this.permanentTeeth4.forEach(function(t){t.teethName==e.slice(1,2)&&(t.checked=!0)}):"5"==e.slice(0,1)?this.babyTeeth5.forEach(function(t){t.value==e.slice(1,2)&&(t.checked=!0)}):"6"==e.slice(0,1)?this.babyTeeth6.forEach(function(t){t.value==e.slice(1,2)&&(t.checked=!0)}):"7"==e.slice(0,1)?this.babyTeeth7.forEach(function(t){t.value==e.slice(1,2)&&(t.checked=!0)}):"8"==e.slice(0,1)&&this.babyTeeth8.forEach(function(t){t.value==e.slice(1,2)&&(t.checked=!0)})},reverseShowSide:function(e){var t=this;this.teethSide1.map(function(a){e==a.sideName&&t.$set(a,"checked",!0)}),this.teethSide2.map(function(a){e==a.sideName&&t.$set(a,"checked",!0)}),this.teethSide3.map(function(a){e==a.sideName&&t.$set(a,"checked",!0)})},setCheckedArr:function(){var e=[],t=[],a=[],s=[],i=[],o=[],r=[],n=[];this.babyTeeth5.forEach(function(e){e.checked&&i.push("5"+e.value)}),this.permanentTeeth1.forEach(function(t){t.checked&&e.push("1"+t.teethName)}),this.babyTeeth6.forEach(function(e){e.checked&&o.push("6"+e.value)}),this.permanentTeeth2.forEach(function(e){e.checked&&t.push("2"+e.teethName)}),this.permanentTeeth3.forEach(function(e){e.checked&&a.push("3"+e.teethName)}),this.babyTeeth7.forEach(function(e){e.checked&&r.push("7"+e.value)}),this.permanentTeeth4.forEach(function(e){e.checked&&s.push("4"+e.teethName)}),this.babyTeeth8.forEach(function(e){e.checked&&n.push("8"+e.value)}),this.checkedTeethArr=[].concat(e,t,a,s,i,o,r,n),console.log(this.checkedTeethArr),this.checkedTeethArr.length>1?(this.isDisabled=!0,this.clearBabyTeethAll()):this.isDisabled=!1,1==this.showViewLabel?this.labelArr1=this.checkedTeethArr:2==this.showViewLabel?this.labelArr2=this.checkedTeethArr:3==this.showViewLabel?this.labelArr3=this.checkedTeethArr:4==this.showViewLabel?this.labelArr4=this.checkedTeethArr:5==this.showViewLabel&&(this.labelArr5=this.checkedTeethArr)},chooseBabyTooth:function(e,t){void 0===e.checked?this.$set(e,"checked",!0):e.checked=!e.checked,this.setCheckedArr()},chooseTeethSide:function(e){if(!this.isDisabled){void 0===e.checked?this.$set(e,"checked",!0):e.checked=!e.checked;var t=[],a=[],s=[];this.teethSide1.forEach(function(e){e.checked&&t.push(e.sideName)}),this.teethSide2.forEach(function(e){e.checked&&a.push(e.sideName)}),this.teethSide3.forEach(function(e){e.checked&&s.push(e.sideName)}),this.checkedSideArr=[].concat(t,a,s),console.log(this.checkedSideArr),1==this.showViewLabel?this.sideArr1=this.checkedSideArr:2==this.showViewLabel?this.sideArr2=this.checkedSideArr:3==this.showViewLabel?this.sideArr3=this.checkedSideArr:4==this.showViewLabel?this.sideArr4=this.checkedSideArr:5==this.showViewLabel&&(this.sideArr5=this.checkedSideArr)}},clearBabyTeethAll:function(){this.checkedSideArr=[],1==this.showViewLabel&&(this.sideArr1=[]),2==this.showViewLabel&&(this.sideArr2=[]),3==this.showViewLabel&&(this.sideArr3=[]),4==this.showViewLabel&&(this.sideArr4=[]),5==this.showViewLabel&&(this.sideArr5=[]),this.teethSide1.forEach(function(e){e.checked&&(e.checked=!1)}),this.teethSide2.forEach(function(e){e.checked&&(e.checked=!1)}),this.teethSide3.forEach(function(e){e.checked&&(e.checked=!1)})},clearPermanentTeeth_top_left:function(e){var t=this;this.permanentTeeth1.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearPermanentTeeth_top_right:function(e){var t=this;this.permanentTeeth2.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearPermanentTeeth_bottom_left:function(e){var t=this;this.permanentTeeth4.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearPermanentTeeth_bottom_right:function(e){var t=this;this.permanentTeeth3.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearBabyTeeth_top_left:function(e){var t=this;this.babyTeeth5.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearBabyTeeth_top_right:function(e){var t=this;this.babyTeeth6.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearBabyTeeth_bottom_left:function(e){var t=this;this.babyTeeth8.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearBabyTeeth_bottom_right:function(e){var t=this;this.babyTeeth7.forEach(function(a){e?void 0===a.checked?t.$set(a,"checked",!0):a.checked=!a.checked:a.checked&&(a.checked=!1)})},clearTeethSide1:function(){this.teethSide1.forEach(function(e){e.checked&&(e.checked=!1)})},clearTeethSide2:function(){this.teethSide2.forEach(function(e){e.checked&&(e.checked=!1)})},clearTeethSide3:function(){this.teethSide3.forEach(function(e){e.checked&&(e.checked=!1)})},clearChecked:function(e){e&&(1==this.showViewLabel&&(this.labelArr1=[]),2==this.showViewLabel&&(this.labelArr2=[]),3==this.showViewLabel&&(this.labelArr3=[]),4==this.showViewLabel&&(this.labelArr4=[]),5==this.showViewLabel&&(this.labelArr5=[])),this.checkedTeethArr=[],this.checkedSideArr=[],this.clearPermanentTeeth_top_left(!1),this.clearPermanentTeeth_top_right(!1),this.clearPermanentTeeth_bottom_left(!1),this.clearPermanentTeeth_bottom_right(!1),this.clearBabyTeeth_top_left(!1),this.clearBabyTeeth_top_right(!1),this.clearBabyTeeth_bottom_left(!1),this.clearBabyTeeth_bottom_right(!1),this.clearTeethSide1(),this.clearTeethSide2(),this.clearTeethSide3()},checked_babyTeeth_all:function(){this.checked_babyTeeth_top(!0),this.checked_babyTeeth_bottom(!0),this.setCheckedArr()},checked_babyTeeth_top:function(){this.clearBabyTeeth_top_left(!0),this.clearBabyTeeth_top_right(!0),this.setCheckedArr()},checked_babyTeeth_bottom:function(){this.clearBabyTeeth_bottom_left(!0),this.clearBabyTeeth_bottom_right(!0),this.setCheckedArr()},checked_permanentTeeth_all:function(){this.checked_permanentTeeth_top(),this.checked_permanentTeeth_bottom(),this.setCheckedArr()},checked_permanentTeeth_top:function(){this.clearPermanentTeeth_top_left(!0),this.clearPermanentTeeth_top_right(!0),this.setCheckedArr()},checked_permanentTeeth_bottom:function(){this.clearPermanentTeeth_bottom_left(!0),this.clearPermanentTeeth_bottom_right(!0),this.setCheckedArr()},saveTemplates:function(){this.modelParent=!0,this.parentForm=this.caseForm},submitForm:function(e,t){var a=this;"parentForm"==e&&"model"==t&&this.$refs[e].validate(function(t){if(t){var s={name:a.parentForm.teName,mainRemark:a.parentForm.mainRemark,mainCurrentRemark:a.parentForm.mainCurrentRemark,mainPastRemark:a.parentForm.mainPastRemark,checkOralRemark:a.parentForm.checkOralRemark,checkAuxiliaryRemark:a.parentForm.checkAuxiliaryRemark,planDiagnosisRemark:a.parentForm.planDiagnosisRemark,planTreatmentRemark:a.parentForm.planTreatmentRemark,dmDisposalRemark:a.parentForm.dmDisposalRemark,dmMedicalRemark:a.parentForm.dmMedicalRemark,listCode:a.addParentCodeVal,remark:""};a.$http.post("/api/hx/medical/template/add.do",s).then(function(t){t.data.result?(a.$message.success("保存为模板成功"),a.modelParent=!1,a.$refs[e].resetFields()):a.$message.error(t.data.errorMessage)})}})},handleChangeParent:function(e){this.addParentCodeVal=e[e.length-1],this.addParentCodeName=this.$refs.addParentCascader.currentLabels},getTopMenu:function(){var e=this;this.$http.post("/api/hx/medical/templateList/list.do",{}).then(function(t){if(t.data.result){var a=[];e.cascaderData=e.addDisabled(t.data.returnObject),a=t.data.returnObject,a=JSON.parse(i()(a)),e.templateList=a}else e.$message.error(t.data.errorMessage)})},addDisabled:function(e){for(var t=0;t<e.length;t++)"2"==e[t].type?e[t].disabled=!0:(e[t].disabled=!1,this.addDisabled(e[t].children));return e},treeNodeClick:function(e,t,a){this.templateName=e.name,this.showEditDetail=!0,2==e.type&&this.getTemplateDetail(e.code)},userTemplate:function(){this.caseTemplate=!0},chooseTemplate:function(){this.caseTemplate=!1,this.caseForm=r()({},this.caseForm,this.form),this.caseForm.code=""},getTemplateDetail:function(e){var t=this;this.$http.post("/api/hx/medical/template/get.do",{code:e}).then(function(e){if(e.data.result){var a=e.data.returnObject;t.form=a}})},change:function(e){console.log(e)},addMedicalImg:function(){var e=this;this.ImageLibraryList.forEach(function(t){t.list.map(function(t){e.addImgeCode.map(function(e){t.code==e&&(t.checked=!0)})})}),this.showImageLibrary=!0},chooseMedicalImg:function(){var e=[];if(this.ImageLibraryList.forEach(function(t){t.list.map(function(t){t.checked&&e.push(t)})}),this.addImgeArr=e,console.log(this.addImgeArr),this.addImgeArr&&this.addImgeArr.length>10)return this.$message.error("最多选择10张图片"),!1;this.showImageLibrary=!1},deleteImage:function(e,t){this.addImgeArr.splice(t,1)},reditImg:function(e){return e.includes("http")?e:this.uploadUrl+e},getImageLibrary:function(){var e=this;this.$http.post("/api/hx/medicalImg/list.do",{patientCode:this.$route.params.code,imgTypeCode:this.typeCode}).then(function(t){if(t.data.result){var a=t.data.returnObject;a.forEach(function(e){e.list.forEach(function(e){e.checked=!1})}),e.ImageLibraryList=a}else e.$message.error(t.data.errorMessage)})},getImageType:function(){var e=this;this.$http.post("/api/hx/medicalImg/imgTypeList.do").then(function(t){t.data.result?e.imageTypeList=t.data.returnObject:e.$message.error(t.data.errorMessage)})},closeDialog:function(){this.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),this.$emit("closeDialog")}}),mounted:function(){var e=this;for(var t in this.CaseDetail)this.caseForm[t]=this.CaseDetail[t];if(this.caseForm.doctorNo||(this.caseForm.doctorNo=this.newAlreadyInfo.reservationDoctorNo),this.caseForm.visitingDate||(this.caseForm.visitingDate=this.newAlreadyInfo.reservationDate),this.getTopMenu(),this.caseForm.checks&&this.caseForm.checks.forEach(function(t){1==t.remark&&""!=t.dentalPosition&&(e.labelArr1=t.dentalPosition.split(","),e.sideArr1=JSON.parse(t.dentalSurface)),2==t.remark&&""!=t.dentalPosition&&(e.labelArr2=t.dentalPosition.split(","),e.sideArr2=JSON.parse(t.dentalSurface))}),this.caseForm.plans&&this.caseForm.plans.forEach(function(t){1==t.remark&&""!=t.dentalPosition&&(e.labelArr3=t.dentalPosition.split(","),e.sideArr3=JSON.parse(t.dentalSurface)),2==t.remark&&""!=t.dentalPosition&&(e.labelArr4=t.dentalPosition.split(","),e.sideArr4=JSON.parse(t.dentalSurface))}),this.caseForm.dms&&this.caseForm.plans.forEach(function(t){e.sideArr5=JSON.parse(t.dentalSurface),""!=t.dentalPosition&&(e.labelArr5=t.dentalPosition.split(","))}),this.getImageLibrary(),this.getImageType(),this.caseForm.imgs){var a=this.caseForm.imgs;a.forEach(function(e){e.checked=!0}),this.addImgeArr=a,this.addImgeCode=this.caseForm.remark2.split(",")}}}},1065:function(e,t){},1068:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createPatientBox"},[a("el-dialog",{attrs:{title:e.mutations.modalTitle,visible:e.mutations.dialogFormVisible,center:e.mutations.center,width:"70%"},on:{close:e.closeDialog}},["createCase"===e.mutations.keyName?a("div",[a("el-form",{ref:"form",staticClass:"formBox",attrs:{model:e.caseForm,rules:e.formDataRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"医生："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.doctorName))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.caseForm.doctorNo,callback:function(t){e.$set(e.caseForm,"doctorNo",t)},expression:"caseForm.doctorNo"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.appVuex.shop_doctor,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})})],2)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"护士："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.assistantName))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.caseForm.assistantNo,callback:function(t){e.$set(e.caseForm,"assistantNo",t)},expression:"caseForm.assistantNo"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.appVuex.shop_nurse,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})})],2)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"就诊时间：",prop:"visitingDate"}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.visitingDate))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.caseForm.visitingDate,callback:function(t){e.$set(e.caseForm,"visitingDate",t)},expression:"caseForm.visitingDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"类型：",prop:"visitingType"}},[e.isCaseInfo?a("span",["NEWDIAGNOSIS"===e.caseForm.visitingType?a("span",[e._v("初诊病历")]):e._e(),e._v(" "),"REVIEW"===e.caseForm.visitingType?a("span",[e._v("复诊病历")]):e._e()]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-radio",{attrs:{label:"NEWDIAGNOSIS",border:""},model:{value:e.caseForm.visitingType,callback:function(t){e.$set(e.caseForm,"visitingType",t)},expression:"caseForm.visitingType"}},[e._v("初诊病历")]),e._v(" "),e.isCaseInfo?e._e():a("el-radio",{attrs:{label:"REVIEW",border:""},model:{value:e.caseForm.visitingType,callback:function(t){e.$set(e.caseForm,"visitingType",t)},expression:"caseForm.visitingType"}},[e._v("复诊病历")])],1)],1)],1),e._v(" "),e.isCaseInfo?e._e():a("div",{staticClass:"fl-r cf",on:{click:e.userTemplate}},[a("el-button",{attrs:{size:"medium",type:"primary"}},[e._v("使用模板")])],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("主诉及病史\n        ")]),e._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"主诉："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.mainRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入主诉"},model:{value:e.caseForm.mainRemark,callback:function(t){e.$set(e.caseForm,"mainRemark",t)},expression:"caseForm.mainRemark"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"现病史："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.mainCurrentRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入现病史"},model:{value:e.caseForm.mainCurrentRemark,callback:function(t){e.$set(e.caseForm,"mainCurrentRemark",t)},expression:"caseForm.mainCurrentRemark"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"既往史："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.mainPastRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入既往史"},model:{value:e.caseForm.mainPastRemark,callback:function(t){e.$set(e.caseForm,"mainPastRemark",t)},expression:"caseForm.mainPastRemark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("口腔检查\n        ")]),e._v(" "),e._l(e.oralModelList,function(t,s){return a("div",{key:s,staticStyle:{border:"1px solid #DCDFE6",padding:"10px"}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.checkOralRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("table",{staticStyle:{width:"100%"}},[a("tbody",[a("tr",{staticClass:"flex-box"},[a("td",{staticClass:"labelBox",on:{click:function(t){return e.showTeethView(1)}}},[a("div",{staticClass:"labelBox-area"},[e.labelArr1.length?a("span",{staticClass:"label-area-text"},[e._v("\n                            "+e._s(e.labelArr1.join(","))+"\n                            "),e.sideArr1.length?a("span",{staticClass:"label-area-tm"},[e._v(e._s(e.sideArr1.join(",")))]):e._e()]):e._e()])]),e._v(" "),a("td",{staticClass:"input-box"},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入口腔检查"},model:{value:e.caseForm.checkOralRemark,callback:function(t){e.$set(e.caseForm,"checkOralRemark",t)},expression:"caseForm.checkOralRemark"}})],1)])])])])}),e._v(" "),e.showToothBox&&1===e.showViewLabel?a("div",{staticClass:"tooth-dropdown-view"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"cf"},[a("div",{staticClass:"tooth-dropdown-main fl-l"},[a("div",{staticClass:"mb-10"},[a("div",{staticClass:"action-btn",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.clearChecked(!0)}}},[e._v("清空")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_all}},[e._v("乳-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_bottom}},[e._v("乳-下半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_top}},[e._v("乳上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_all}},[e._v("恒-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_top}},[e._v("恒-上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_bottom}},[e._v("恒-下半口")])]),e._v(" "),a("table",[a("tbody",[a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth5,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,5)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth1,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,1)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth6,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,6)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth2,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,2)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0)])]),e._v(" "),a("tr",{staticClass:"tooth-row horizontal-gap"},[a("td",[a("span",[e._v("右")])]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("span",[e._v("左")])])]),e._v(" "),a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth4,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,4)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0),e._v(" "),a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth8,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,8)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth3,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,3)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth7,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,7)}}},[e._v(e._s(t.teethName)+"\n                              ")])}),0)])])])])]),e._v(" "),a("div",{staticClass:"tooth-dropdown-fight fl-l",class:{disabled:e.isDisabled}},[a("div",{staticClass:"tooth-side-selector"},[a("div",{staticClass:"header"},[e.checkedTeethArr&&1==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v(e._s(e.checkedTeethArr.join(",")))]):e._e(),e._v(" "),e.checkedTeethArr&&0==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v("暂未选择牙位")]):e._e()]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide1,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,1)}}},[e._v(e._s(t.sideName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide2,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,2)}}},[e._v(e._s(t.sideName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide3,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,3)}}},[e._v(e._s(t.sideName)+"\n                          ")])}),0)])])])]),e._v(" "),a("div",{staticClass:"close-btn",on:{click:function(t){e.showToothBox=!1}}},[a("i",{staticClass:"el-icon-circle-close"})])])]):e._e(),e._v(" "),a("div",{staticClass:"formTitle"},[e._v("\n            相关影像\n          ")]),e._v(" "),a("div",{staticClass:"medical-img"},[e.isCaseInfo?a("div",{staticClass:"medical-row"},e._l(e.addImgeArr,function(t,s){return a("div",{key:s,staticClass:"medical-row-li"},[a("img",{staticClass:"img_item",attrs:{src:e.reditImg(t.imgUrl)}}),e._v(" "),a("p",{staticClass:"imgRemark",attrs:{title:t.remark}},[e._v(e._s(t.reservationDate)+" "+e._s(t.remark))])])}),0):e._e(),e._v(" "),e.isCaseInfo?e._e():a("div",{staticClass:"medical-row"},[e._l(e.addImgeArr,function(t,s){return a("div",{key:s,staticClass:"medical-row-li"},[a("i",{staticClass:"deleteIcon el-icon-delete",on:{click:function(a){return e.deleteImage(t,s)}}}),e._v(" "),a("img",{staticClass:"img_item",attrs:{src:e.reditImg(t.imgUrl)}}),e._v(" "),a("p",{staticClass:"imgRemark",attrs:{title:t.remark}},[e._v(e._s(t.reservationDate.substring(0,10))+" "+e._s(t.remark))])])}),e._v(" "),a("div",{staticClass:"add-img",on:{click:e.addMedicalImg}},[a("div",{staticClass:"add-img-icon"},[a("i",{staticClass:"icon el-icon-plus"}),e._v(" "),a("p",[e._v("添加")])])])],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("辅助检查\n          ")]),e._v(" "),a("div",{staticStyle:{border:"1px solid #DCDFE6",padding:"10px"}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.checkAuxiliaryRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("table",{staticStyle:{width:"100%"}},[a("tbody",[a("tr",{staticClass:"flex-box"},[a("td",{staticClass:"labelBox",on:{click:function(t){return e.showTeethView(2)}}},[a("div",{staticClass:"labelBox-area"},[e.labelArr2.length?a("span",{staticClass:"label-area-text"},[e._v("\n                          "+e._s(e.labelArr2.join(","))+"\n                          "),e.sideArr2.length?a("span",{staticClass:"label-area-tm"},[e._v(e._s(e.sideArr2.join(",")))]):e._e()]):e._e()])]),e._v(" "),a("td",{staticClass:"input-box"},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入辅助检查"},model:{value:e.caseForm.checkAuxiliaryRemark,callback:function(t){e.$set(e.caseForm,"checkAuxiliaryRemark",t)},expression:"caseForm.checkAuxiliaryRemark"}})],1)])])])]),e._v(" "),e.showToothBox&&2===e.showViewLabel?a("div",{staticClass:"tooth-dropdown-view"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"cf"},[a("div",{staticClass:"tooth-dropdown-main fl-l"},[a("div",{staticClass:"mb-10"},[a("div",{staticClass:"action-btn",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.clearChecked(!0)}}},[e._v("清空")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_all}},[e._v("乳-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_bottom}},[e._v("乳-下半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_top}},[e._v("乳上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_all}},[e._v("恒-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_top}},[e._v("恒-上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_bottom}},[e._v("恒-下半口")])]),e._v(" "),a("table",[a("tbody",[a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth5,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,5)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth1,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,1)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth6,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,6)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth2,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,2)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])]),e._v(" "),a("tr",{staticClass:"tooth-row horizontal-gap"},[a("td",[a("span",[e._v("右")])]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("span",[e._v("左")])])]),e._v(" "),a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth4,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,4)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth8,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,8)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth3,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,3)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth7,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,7)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])])])])]),e._v(" "),a("div",{staticClass:"tooth-dropdown-fight fl-l",class:{disabled:e.isDisabled}},[a("div",{staticClass:"tooth-side-selector"},[a("div",{staticClass:"header"},[e.checkedTeethArr&&1==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v(e._s(e.checkedTeethArr.join(",")))]):e._e(),e._v(" "),e.checkedTeethArr&&0==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v("暂未选择牙位")]):e._e()]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide1,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,1)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide2,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,2)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide3,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,3)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0)])])])]),e._v(" "),a("div",{staticClass:"close-btn",on:{click:function(t){e.showToothBox=!1}}},[a("i",{staticClass:"el-icon-circle-close"})])])]):e._e(),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("诊断\n        ")]),e._v(" "),a("div",{staticStyle:{border:"1px solid #DCDFE6",padding:"10px"}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.planDiagnosisRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("table",{staticStyle:{width:"100%"}},[a("tbody",[a("tr",{staticClass:"flex-box"},[a("td",{staticClass:"labelBox",on:{click:function(t){return e.showTeethView(3)}}},[a("div",{staticClass:"labelBox-area"},[e.labelArr3.length?a("span",{staticClass:"label-area-text"},[e._v("\n                        "+e._s(e.labelArr3.join(","))+"\n                        "),e.sideArr3.length?a("span",{staticClass:"label-area-tm"},[e._v(e._s(e.sideArr3.join(",")))]):e._e()]):e._e()])]),e._v(" "),a("td",{staticClass:"input-box"},[e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入诊断"},model:{value:e.caseForm.planDiagnosisRemark,callback:function(t){e.$set(e.caseForm,"planDiagnosisRemark",t)},expression:"caseForm.planDiagnosisRemark"}})],1)])])])]),e._v(" "),e.showToothBox&&3===e.showViewLabel?a("div",{staticClass:"tooth-dropdown-view"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"cf"},[a("div",{staticClass:"tooth-dropdown-main fl-l"},[a("div",{staticClass:"mb-10"},[a("div",{staticClass:"action-btn",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.clearChecked(!0)}}},[e._v("清空")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_all}},[e._v("乳-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_bottom}},[e._v("乳-下半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_top}},[e._v("乳上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_all}},[e._v("恒-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_top}},[e._v("恒-上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_bottom}},[e._v("恒-下半口")])]),e._v(" "),a("table",[a("tbody",[a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth5,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,5)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth1,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,1)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth6,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,6)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth2,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,2)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])]),e._v(" "),a("tr",{staticClass:"tooth-row horizontal-gap"},[a("td",[a("span",[e._v("右")])]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("span",[e._v("左")])])]),e._v(" "),a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth4,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,4)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth8,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,8)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth3,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,3)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth7,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,7)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])])])])]),e._v(" "),a("div",{staticClass:"tooth-dropdown-fight fl-l",class:{disabled:e.isDisabled}},[a("div",{staticClass:"tooth-side-selector"},[a("div",{staticClass:"header"},[e.checkedTeethArr&&1==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v(e._s(e.checkedTeethArr.join(",")))]):e._e(),e._v(" "),e.checkedTeethArr&&0==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v("暂未选择牙位")]):e._e()]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide1,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,1)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide2,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,2)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide3,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,3)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0)])])])]),e._v(" "),a("div",{staticClass:"close-btn",on:{click:function(t){e.showToothBox=!1}}},[a("i",{staticClass:"el-icon-circle-close"})])])]):e._e(),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("治疗计划\n        ")]),e._v(" "),a("div",{staticStyle:{border:"1px solid #DCDFE6",padding:"10px"}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.planTreatmentRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("table",{staticStyle:{width:"100%"}},[a("tbody",[a("tr",{staticClass:"flex-box"},[a("td",{staticClass:"labelBox",on:{click:function(t){return e.showTeethView(4)}}},[a("div",{staticClass:"labelBox-area"},[e.labelArr4.length?a("span",{staticClass:"label-area-text"},[e._v("\n                        "+e._s(e.labelArr4.join(","))+"\n                        "),e.sideArr4.length?a("span",{staticClass:"label-area-tm"},[e._v(e._s(e.sideArr4.join(",")))]):e._e()]):e._e()])]),e._v(" "),a("td",{staticClass:"input-box"},[e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入治疗计划"},model:{value:e.caseForm.planTreatmentRemark,callback:function(t){e.$set(e.caseForm,"planTreatmentRemark",t)},expression:"caseForm.planTreatmentRemark"}})],1)])])])]),e._v(" "),e.showToothBox&&4===e.showViewLabel?a("div",{staticClass:"tooth-dropdown-view"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"cf"},[a("div",{staticClass:"tooth-dropdown-main fl-l"},[a("div",{staticClass:"mb-10"},[a("div",{staticClass:"action-btn",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.clearChecked(!0)}}},[e._v("清空")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_all}},[e._v("乳-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_bottom}},[e._v("乳-下半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_top}},[e._v("乳上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_all}},[e._v("恒-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_top}},[e._v("恒-上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_bottom}},[e._v("恒-下半口")])]),e._v(" "),a("table",[a("tbody",[a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth5,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,5)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth1,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,1)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth6,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,6)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth2,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,2)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])]),e._v(" "),a("tr",{staticClass:"tooth-row horizontal-gap"},[a("td",[a("span",[e._v("右")])]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("span",[e._v("左")])])]),e._v(" "),a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth4,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,4)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth8,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,8)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth3,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,3)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth7,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,7)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])])])])]),e._v(" "),a("div",{staticClass:"tooth-dropdown-fight fl-l",class:{disabled:e.isDisabled}},[a("div",{staticClass:"tooth-side-selector"},[a("div",{staticClass:"header"},[e.checkedTeethArr&&1==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v(e._s(e.checkedTeethArr.join(",")))]):e._e(),e._v(" "),e.checkedTeethArr&&0==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v("暂未选择牙位")]):e._e()]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide1,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,1)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide2,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,2)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide3,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,3)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0)])])])]),e._v(" "),a("div",{staticClass:"close-btn",on:{click:function(t){e.showToothBox=!1}}},[a("i",{staticClass:"el-icon-circle-close"})])])]):e._e(),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("处置\n        ")]),e._v(" "),a("div",{staticStyle:{border:"1px solid #DCDFE6",padding:"10px"}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.dmDisposalRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("table",{staticStyle:{width:"100%"}},[a("tbody",[a("tr",{staticClass:"flex-box"},[a("td",{staticClass:"labelBox",on:{click:function(t){return e.showTeethView(5)}}},[a("div",{staticClass:"labelBox-area"},[e.labelArr5.length?a("span",{staticClass:"label-area-text"},[e._v("\n                        "+e._s(e.labelArr5.join(","))+"\n                        "),e.sideArr5.length?a("span",{staticClass:"label-area-tm"},[e._v(e._s(e.sideArr5.join(",")))]):e._e()]):e._e()])]),e._v(" "),a("td",{staticClass:"input-box"},[e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入处置"},model:{value:e.caseForm.dmDisposalRemark,callback:function(t){e.$set(e.caseForm,"dmDisposalRemark",t)},expression:"caseForm.dmDisposalRemark"}})],1)])])])]),e._v(" "),e.showToothBox&&5===e.showViewLabel?a("div",{staticClass:"tooth-dropdown-view"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"cf"},[a("div",{staticClass:"tooth-dropdown-main fl-l"},[a("div",{staticClass:"mb-10"},[a("div",{staticClass:"action-btn",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.clearChecked(!0)}}},[e._v("清空")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_all}},[e._v("乳-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_bottom}},[e._v("乳-下半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_babyTeeth_top}},[e._v("乳上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_all}},[e._v("恒-全口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_top}},[e._v("恒-上半口")]),e._v(" "),a("div",{staticClass:"action-btn",on:{click:e.checked_permanentTeeth_bottom}},[e._v("恒-下半口")])]),e._v(" "),a("table",[a("tbody",[a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth5,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,5)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth1,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,1)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth6,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,6)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth2,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,2)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])]),e._v(" "),a("tr",{staticClass:"tooth-row horizontal-gap"},[a("td",[a("span",[e._v("右")])]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("span",[e._v("左")])])]),e._v(" "),a("tr",{staticClass:"tooth-row"},[a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth4,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,4)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-row-offet-3 tooth-group"},e._l(e.babyTeeth8,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,8)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)]),e._v(" "),a("td",{staticClass:"vertical-gap"}),e._v(" "),a("td",[a("div",{staticClass:"tooth-group"},e._l(e.permanentTeeth3,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,3)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0),e._v(" "),a("div",{staticClass:"tooth-group"},e._l(e.babyTeeth7,function(t,s){return a("div",{key:s,staticClass:"tootn-btn",class:{checked:t.checked},on:{click:function(a){return e.chooseBabyTooth(t,7)}}},[e._v(e._s(t.teethName)+"\n                          ")])}),0)])])])])]),e._v(" "),a("div",{staticClass:"tooth-dropdown-fight fl-l",class:{disabled:e.isDisabled}},[a("div",{staticClass:"tooth-side-selector"},[a("div",{staticClass:"header"},[e.checkedTeethArr&&1==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v(e._s(e.checkedTeethArr.join(",")))]):e._e(),e._v(" "),e.checkedTeethArr&&0==e.checkedTeethArr.length?a("span",{staticClass:"text-light"},[e._v("暂未选择牙位")]):e._e()]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide1,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,1)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide2,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,2)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0),e._v(" "),a("div",{staticClass:"tooth-side-row"},e._l(e.teethSide3,function(t,s){return a("div",{key:s,staticClass:"tooth-side-btn",class:{checked:t.checked},attrs:{title:t.title},on:{click:function(a){return e.chooseTeethSide(t,3)}}},[e._v(e._s(t.sideName)+"\n                      ")])}),0)])])])]),e._v(" "),a("div",{staticClass:"close-btn",on:{click:function(t){e.showToothBox=!1}}},[a("i",{staticClass:"el-icon-circle-close"})])])]):e._e(),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("医嘱\n        ")]),e._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"医嘱："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.dmMedicalRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入医嘱"},model:{value:e.caseForm.dmMedicalRemark,callback:function(t){e.$set(e.caseForm,"dmMedicalRemark",t)},expression:"caseForm.dmMedicalRemark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"formTitle"},[a("span"),e._v("其他\n        ")]),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"标签："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.otherLabelRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入标签"},model:{value:e.caseForm.otherLabelRemark,callback:function(t){e.$set(e.caseForm,"otherLabelRemark",t)},expression:"caseForm.otherLabelRemark"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-form-item",{attrs:{label:"备注："}},[e.isCaseInfo?a("span",[e._v(e._s(e.caseForm.otherRemark))]):e._e(),e._v(" "),e.isCaseInfo?e._e():a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:e.caseForm.otherRemark,callback:function(t){e.$set(e.caseForm,"otherRemark",t)},expression:"caseForm.otherRemark"}})],1)],1)],1)],2)],1):e._e(),e._v(" "),a("br"),a("br"),e._v(" "),e.isCaseInfo?e._e():a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleModalCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveOper}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTemplates}},[e._v("另存为模板")])],1),e._v(" "),e.isCaseInfo?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleModalCancel}},[e._v("关闭")])],1):e._e()]),e._v(" "),a("el-dialog",{attrs:{title:"病历模板",visible:e.caseTemplate,center:""},on:{"update:visible":function(t){e.caseTemplate=t}}},[a("div",{staticClass:"tree-container"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-input",{attrs:{size:"small",placeholder:"目录名称"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.templateList,"node-key":"code","default-expand-all":"","expand-on-click-node":!1,"filter-node-method":e.filterNode},on:{"node-click":e.treeNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=(t.node,t.data);return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.name))])])}}])})],1),e._v(" "),a("div",{staticClass:"detail-container"},[a("p",{staticClass:"title"},[e._v(e._s(this.templateName))]),e._v(" "),a("br"),e._v(" "),a("el-form",{ref:"form",staticStyle:{"max-width":"700px"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"主诉：",prop:"mainRemark"}},[a("span",[e._v(e._s(e.form.mainRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"现病史：",prop:"mainCurrentRemark"}},[a("span",[e._v(e._s(e.form.mainCurrentRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"既往史：",prop:"mainPastRemark"}},[a("span",[e._v(e._s(e.form.mainPastRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"口腔检查：",prop:"checkOralRemark"}},[a("span",[e._v(e._s(e.form.checkOralRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"辅助检查：",prop:"checkAuxiliaryRemark"}},[a("span",[e._v(e._s(e.form.checkAuxiliaryRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"诊断：",prop:"planDiagnosisRemark"}},[a("span",[e._v(e._s(e.form.planDiagnosisRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"治疗方案：",prop:"planTreatmentRemark"}},[a("span",[e._v(e._s(e.form.planTreatmentRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"处置：",prop:"dmDisposalRemark"}},[a("span",[e._v(e._s(e.form.dmDisposalRemark))])]),e._v(" "),a("el-form-item",{attrs:{label:"医嘱：",prop:"dmMedicalRemark"}},[a("span",[e._v(e._s(e.form.dmMedicalRemark))])]),e._v(" "),a("el-form-item",[a("el-button",{on:{click:function(t){e.caseTemplate=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.chooseTemplate}},[e._v("保存")])],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"病历模板保存",visible:e.modelParent,center:""},on:{"update:visible":function(t){e.modelParent=t}}},[a("div",[a("el-form",{ref:"parentForm",staticStyle:{"max-width":"700px","min-height":"400px"},attrs:{model:e.parentForm,rules:e.parentRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"上级目录",prop:"paramsName"}},[a("el-cascader",{ref:"addParentCascader",staticStyle:{width:"600px"},attrs:{options:e.cascaderData,props:{checkStrictly:!0,value:"code",label:"name"},"change-on-select":!0,"expand-trigger":"hover",clearable:""},on:{change:e.handleChangeParent},model:{value:e.parentForm.paramsName,callback:function(t){e.$set(e.parentForm,"paramsName",t)},expression:"parentForm.paramsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"teName"}},[a("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.parentForm.teName,callback:function(t){e.$set(e.parentForm,"teName",t)},expression:"parentForm.teName"}})],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"主诉",prop:"mainRemark"}},[a("el-input",{model:{value:e.parentForm.mainRemark,callback:function(t){e.$set(e.parentForm,"mainRemark",t)},expression:"parentForm.mainRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"现病史",prop:"mainCurrentRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.mainCurrentRemark,callback:function(t){e.$set(e.parentForm,"mainCurrentRemark",t)},expression:"parentForm.mainCurrentRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"既往史",prop:"mainPastRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.mainPastRemark,callback:function(t){e.$set(e.parentForm,"mainPastRemark",t)},expression:"parentForm.mainPastRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"口腔检查",prop:"checkOralRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.checkOralRemark,callback:function(t){e.$set(e.parentForm,"checkOralRemark",t)},expression:"parentForm.checkOralRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"辅助检查",prop:"checkAuxiliaryRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.checkAuxiliaryRemark,callback:function(t){e.$set(e.parentForm,"checkAuxiliaryRemark",t)},expression:"parentForm.checkAuxiliaryRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"诊断",prop:"planDiagnosisRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.planDiagnosisRemark,callback:function(t){e.$set(e.parentForm,"planDiagnosisRemark",t)},expression:"parentForm.planDiagnosisRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"治疗方案",prop:"planTreatmentRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.planTreatmentRemark,callback:function(t){e.$set(e.parentForm,"planTreatmentRemark",t)},expression:"parentForm.planTreatmentRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处置",prop:"dmDisposalRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.dmDisposalRemark,callback:function(t){e.$set(e.parentForm,"dmDisposalRemark",t)},expression:"parentForm.dmDisposalRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"医嘱",prop:"dmMedicalRemark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.parentForm.dmMedicalRemark,callback:function(t){e.$set(e.parentForm,"dmMedicalRemark",t)},expression:"parentForm.dmMedicalRemark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("parentForm","model")}}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.modelParent=!1}}},[e._v("取消")])],1)],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"关联影像资料",visible:e.showImageLibrary,center:""},on:{"update:visible":function(t){e.showImageLibrary=t}}},[a("div",{staticClass:"imageBox-top"},[a("span",[e._v("影像类型 ")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getImageLibrary},model:{value:e.typeCode,callback:function(t){e.typeCode=t},expression:"typeCode"}},[a("el-option",{attrs:{label:"全部影像",value:""}}),e._v(" "),e._l(e.imageTypeList,function(e,t){return a("el-option",{key:t,attrs:{size:"mini",label:e.name,value:e.code}})})],2)],1),e._v(" "),a("div",{staticClass:"imageBox-body"},[e.ImageLibraryList.length>0?a("div",[e._l(e.ImageLibraryList,function(t,s){return e.ImageLibraryList.length>0?a("div",{key:s,staticClass:"imageBox-row"},[a("p",{staticClass:"rowTitle"},[a("span"),e._v(e._s(t.reservationDate))]),e._v(" "),a("div",{staticClass:"imageBox-list"},e._l(t.list,function(t,s){return a("li",{key:s,staticClass:"childrenBox"},[a("div",[a("label",{staticStyle:{position:"absolute"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"val.checked"}],attrs:{type:"checkbox",name:t.code},domProps:{value:t,checked:Array.isArray(t.checked)?e._i(t.checked,t)>-1:t.checked},on:{change:[function(a){var s=t.checked,i=a.target,o=!!i.checked;if(Array.isArray(s)){var r=t,n=e._i(s,r);i.checked?n<0&&e.$set(t,"checked",s.concat([r])):n>-1&&e.$set(t,"checked",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(t,"checked",o)},function(a){return e.change(t)}]}})]),e._v(" "),a("img",{staticClass:"img_item",attrs:{src:e.reditImg(t.imgUrl)}}),e._v(" "),a("p",{staticClass:"imgRemark"},[e._v(e._s(t.remark))])])])}),0)]):e._e()}),e._v(" "),a("el-button",{on:{click:function(t){e.showImageLibrary=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.chooseMedicalImg}},[e._v("保存")])],2):e._e(),e._v(" "),0==e.ImageLibraryList.length?a("div",{staticClass:"no-result"},[a("p",[e._v("暂无影像资料")])]):e._e()])])],1)},staticRenderFns:[]}},1095:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(124),i=a.n(s),o=a(45),r=a.n(o),n=a(86),c=a(56),l=a(1232),h=a.n(l),d=a(1233),m=a.n(d),u=a(1228),v=a.n(u),p=a(1063),f=a.n(p),_=a(1061),k=a.n(_);t.default={components:{Search:h.a,Table:m.a,Pagination:v.a,Modal:f.a,ComModal:k.a},props:{},data:function(){return{patientDetail:{},apiUrl:"",tableData:[],currentPage:1,limit:10,total:1}},watch:{},computed:r()({},a.i(n.c)({mutations:function(e){return e.mutations},appVuex:function(e){return e.appVuex}})),methods:r()({},a.i(n.d)(["ActionToggleModal"]),{initData:function(e){var t=this,a=this.$cfg.userInfo||c.a.get("userInfo"),s=a.memberNoMerchant,i=this.currentPage,o=this.limit;this.$http.post("/api/hx/patient/list.do",r()({start:(i-1)*o,limit:o,memberNoMerchant:s},e)).then(function(e){var a=e.data,s=a.result,i=a.errorMessage,o=e.data.returnObject,r=o.total,n=o.rows;s?(t.total=r,t.tableData=n):t.$message({type:"error",message:i})})},getPatientDetail:function(e,t){var a=this;this.$http.post("/api/hx/patient/details.do",{code:e}).then(function(e){var s=e.data,i=s.returnObject,o=s.result,r=s.errorMessage;o?(a.patientDetail=i,t&&t()):a.$message({type:"error",message:r})})},createBooking:function(e,t){var a=this,s=this.$cfg.userInfo||c.a.get("userInfo"),o=s.memberNoGuid,n=s.memberNameGuid,l=s.shopNo,h=s.shopName,d=this.patientDetail,m=d.code,u=d.name,v=d.phone,p=d.caseNo,f=d.merchantNo,_=d.merchantName;e.reservationDateLen=parseInt(e.reservationDateLen),e.serviceChoosesJson=i()(e.serviceChoosesJson),this.$http.post("/api/hx/ps/addPatientReservation.do",r()({patientNo:m,patientName:u,mobile:v,medicalNo:p,shopNo:l,shopName:h,merchantNo:f,merchantName:_,createId:o,createName:n},e)).then(function(e){var s=e.data,i=s.result,o=s.errorMessage;s.returnObject;i?(a.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1}),a.$message({type:"success",message:"创建预约成功!"}),t&&t()):a.$message({type:"error",message:o})})},handleCreateAleray:function(e){var t=this;this.getPatientDetail(e.code,function(){t.ActionToggleModal({center:!1,modalTitle:"创建预约",keyName:"CreateAndEditBooking",BookingModalVisible:!0})})},handleSelectionChange:function(e){this.multipleSelection=e},handlePageQuery:function(e){this.currentPage=e,this.initData({})},searchData:function(e){this.currentPage=1,this.initData(e)},handleRowDblClick:function(e){this.$router.push({path:"/PatientDetail/"+e.code})},resetSearchData:function(){this.currentPage=1,this.initData({})},handleCheckPatient:function(e){this.$router.push({path:"/PatientDetail/"+e.code})},handleModalConfirm:function(e,t){"CreateAndEditBooking"===this.mutations.keyName&&this.createBooking(e,t)},handleModalCancel:function(){this.ActionToggleModal({dialogFormVisible:!1,BookingModalVisible:!1})},handleImChat:function(){}}),created:function(){},mounted:function(){this.initData({})}}},1111:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{},props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:20}},data:function(){return{}},watch:{},computed:{},methods:{handlePageQuery:function(e){this.$emit("handlePageQuery",e)}},created:function(){},mounted:function(){}}},1115:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(45),i=a.n(s),o=a(86),r=a(0);a.n(r),a(174);t.default={components:{},props:{},data:function(){return{name:"",source1Code:"",phone:"",firstMemberNo:"",times:""}},watch:{},computed:i()({},a.i(o.c)({appVuex:function(e){return e.appVuex}})),methods:{searchData:function(){var e=this.getOrResetSearchVal("get");this.$emit("searchData",e)},resetSearchData:function(){this.getOrResetSearchVal("reset"),this.$emit("resetSearchData")},getOrResetSearchVal:function(e){if("get"===e)return{name:this.name,source1Code:this.source1Code,phone:this.phone,firstMemberNo:this.firstMemberNo,startTime:this.times[0],endTime:this.times[1]};this.name="",this.source1Code="",this.phone="",this.firstMemberNo="",this.times=""},handleItemChange:function(e,t){this[e]=t;var a=this.getOrResetSearchVal("get");this.$emit("searchData",a)}},created:function(){},mounted:function(){}}},1116:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{},props:{tableData:{type:Array,default:[]},tabConKeyName:{type:String,default:""}},data:function(){return{}},watch:{},computed:{},methods:{handleSelectionChange:function(){this.$emit("handleSelectionChange")},handleRowDblClick:function(e){this.$emit("handleRowDblClick",e)}},created:function(){},mounted:function(){}}},1142:function(e,t){},1148:function(e,t){},1153:function(e,t){},1168:function(e,t){},1228:function(e,t,a){function s(e){a(1168)}var i=a(85)(a(1111),a(1276),s,"data-v-4e15f328",null);e.exports=i.exports},1232:function(e,t,a){function s(e){a(1148)}var i=a(85)(a(1115),a(1256),s,"data-v-1933ab0c",null);e.exports=i.exports},1233:function(e,t,a){function s(e){a(1142)}var i=a(85)(a(1116),a(1250),s,"data-v-063d81ec",null);e.exports=i.exports},1250:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("el-table",{staticClass:"mb10",staticStyle:{"text-align":"center"},attrs:{data:e.tableData,border:"",height:"600"},on:{"row-dblclick":e.handleRowDblClick,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"left",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"caseNo",label:"病历号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"患者类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("PT"===t.row.type?"普通":"临时"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return["MALE"===t.row.sex?a("span",[e._v("男")]):e._e(),e._v(" "),"FEMALE"===t.row.sex?a("span",[e._v("女")]):e._e(),e._v(" "),"UNKNOWN"===t.row.sex?a("span",[e._v("未知")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"初诊日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"firstMemberName",label:"初诊医生"}}),e._v(" "),a("el-table-column",{attrs:{prop:"source1",label:"患者一级来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"source2",label:"患者二级来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"source3",label:"患者三级来源"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"240",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("default",null,{row:t.row})}}],null,!0)})],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listTitle"},[a("i"),e._v(" "),a("span",[e._v("数据列表")])])}]}},1256:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchForm"},[e._m(0),e._v(" "),a("el-form",{staticClass:"clearfix"},[a("div",{staticClass:"fSearch-f"},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"患者姓名"}},[a("el-input",{attrs:{placeholder:"请输入患者姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"初诊日期"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.handleItemChange("times",e.times)}},model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"患者来源"}},[a("el-select",{attrs:{placeholder:"请选择患者来源"},on:{change:function(t){return e.handleItemChange("source1Code",e.source1Code)}},model:{value:e.source1Code,callback:function(t){e.source1Code=t},expression:"source1Code"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.appVuex.user_source,function(e){return a("el-option",{key:e.code,attrs:{label:e.lableName,value:e.code}})})],2)],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"手机号码"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{size:"small",label:"初诊医生"}},[a("el-select",{attrs:{placeholder:"请选择初诊医生"},on:{change:function(t){return e.handleItemChange("firstMemberNo",e.firstMemberNo)}},model:{value:e.firstMemberNo,callback:function(t){e.firstMemberNo=t},expression:"firstMemberNo"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.appVuex.shop_doctor,function(e){return a("el-option",{key:e.memberNo,attrs:{label:e.memberName,value:e.memberNo}})})],2)],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:6,xl:4}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"btnSrarch"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchData}},[e._v("查 询")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.resetSearchData}},[e._v("重 置")])],1)])])],1)],1)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("i"),e._v(" "),a("span",[e._v("筛选查询")])])}]}},1261:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"patientBox"},[a("Modal",{on:{handleModalConfirm:e.handleModalConfirm,handleModalCancel:e.handleModalCancel}}),e._v(" "),a("ComModal",{attrs:{patientDetail:e.patientDetail},on:{handleModalConfirm:e.handleModalConfirm,handleModalCancel:e.handleModalCancel}}),e._v(" "),a("Search",{on:{searchData:e.searchData,resetSearchData:e.resetSearchData}}),e._v(" "),a("Table",{attrs:{tableData:e.tableData,tabConKeyName:"customcues"},on:{handleRowDblClick:e.handleRowDblClick},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看患者",placement:"top-start"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-view"},on:{click:function(a){return e.handleCheckPatient(t.row)}}})],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"创建预约",placement:"top-start"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:function(a){return e.handleCreateAleray(t.row)}}})],1)]}}])}),e._v(" "),a("Pagination",{attrs:{currentPage:e.currentPage,pageSize:e.limit,total:e.total},on:{handlePageQuery:e.handlePageQuery}})],1)},staticRenderFns:[]}},1276:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,background:"",layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handlePageQuery}})},staticRenderFns:[]}}});
//# sourceMappingURL=2.3467632cf8267b6a88dd.js.map